<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cloud-Wong</title>
  <subtitle>那就开始扯吧</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-06-23T13:06:11.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>黄耘</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数据库复习大纲（三）</title>
    <link href="http://yoursite.com/2017/06/23/database-rebiew-outline-3/"/>
    <id>http://yoursite.com/2017/06/23/database-rebiew-outline-3/</id>
    <published>2017-06-23T08:51:15.000Z</published>
    <updated>2017-06-23T13:06:11.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第七章"><a href="#第七章" class="headerlink" title="第七章"></a>第七章</h2><h3 id="1-数据库设计的特点是什么，可分为哪6个阶段"><a href="#1-数据库设计的特点是什么，可分为哪6个阶段" class="headerlink" title="1.数据库设计的特点是什么，可分为哪6个阶段"></a>1.数据库设计的特点是什么，可分为哪6个阶段</h3><h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><ol>
<li>“三分技术、七分管理、十二分基础数据”是数据库设计的特点之一。</li>
<li>数据库设计过程中把数据库结构设计和对数据的处理设计密切结合起来，</li>
</ol>
<h4 id="六个阶段："><a href="#六个阶段：" class="headerlink" title="六个阶段："></a>六个阶段：</h4><a id="more"></a>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/34165605.jpg" alt=""></p>
<p>分别为<strong>需求分析</strong>、<strong>概念结构设计</strong>、<strong>逻辑结构设计</strong>、<strong>物理结构设计</strong>、<strong>数据库实施</strong>和<strong>数据库维护和运行</strong>。</p>
<h3 id="2-掌握概念设计和逻辑设计方法-E-R图，转化成关系模式等-，要会对给定的实例进行分析"><a href="#2-掌握概念设计和逻辑设计方法-E-R图，转化成关系模式等-，要会对给定的实例进行分析" class="headerlink" title="2.掌握概念设计和逻辑设计方法(E-R图，转化成关系模式等)，要会对给定的实例进行分析"></a>2.掌握概念设计和逻辑设计方法(E-R图，转化成关系模式等)，要会对给定的实例进行分析</h3><h4 id="1-ER图转关系模式方法"><a href="#1-ER图转关系模式方法" class="headerlink" title="(1)ER图转关系模式方法"></a>(1)ER图转关系模式方法</h4><p>ER模型中的主要成分是实体和联系。</p>
<p>对于实体，可以这样转换：将每个实体转换成一个关系模式，实体的属性即为关系模式的属性，实体的关键字即为关系模式的主码。</p>
<p>实体  →   关系   属性  →  关系的属性</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/78392692.jpg" alt=""></p>
<h4 id="2-联系为M：N的转换方法"><a href="#2-联系为M：N的转换方法" class="headerlink" title="(2)联系为M：N的转换方法"></a>(2)联系为M：N的转换方法</h4><p>若实体间联系是M:N，则将联系也转换成关系模式，其属性为两端实实体的主码加上联系的属性，其主码为两端实体主码的组合。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/19963765.jpg" alt=""></p>
<blockquote>
<p>S(<u>S#,</u> SNAME ,AGE,SEX )</p>
<p>C(<u>C#</u>, CNAME ,TEACHER)</p>
<p>SC(<u>S#,C#,</u>GRADE)</p>
</blockquote>
<h4 id="3-联系为1：N的转换方法"><a href="#3-联系为1：N的转换方法" class="headerlink" title="(3)联系为1：N的转换方法"></a>(3)联系为1：N的转换方法</h4><p>若实体间的联系是1:N的，则<strong>在N端</strong>实体转换成的关系模式中加入1端实体转换成的关系模式的主码和联系的属性。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/37146179.jpg" alt=""></p>
<blockquote>
<p>车间模式（<u>车间编号</u>，车间名，电话）</p>
<p>职工模式（<u>工号</u>，姓名，性别，年龄，<em>车间编号</em>，聘期）</p>
</blockquote>
<h4 id="4-联系为1：1的转换方法"><a href="#4-联系为1：1的转换方法" class="headerlink" title="(4)联系为1：1的转换方法"></a>(4)联系为1：1的转换方法</h4><p>若实体间的联系是1:1的，可以在两个实体转换成的两个关系模式中<strong>任意一个</strong>关系模式的属性中加入另一个关系模式的主码和联系类型的属性。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/93804548.jpg" alt=""></p>
<blockquote>
<p>学校模式（校名，地址，电话，校长名，任职年月）</p>
<p>校长模式（姓名，年龄，性别，职称）</p>
</blockquote>
<h4 id="5-实例"><a href="#5-实例" class="headerlink" title="(5)实例"></a>(5)实例</h4><p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/49275922.jpg" alt=""></p>
<blockquote>
<p>商店（<u>商店编号</u>，商店名，地址）</p>
<p>职工（<u>职工编号</u>，姓名，性别，业绩，<strong>商店编号</strong>，聘期，月薪）</p>
<p>商品（<u>商品号</u>，商品名，规格，单价）</p>
<p>销售（<u>商店编号</u>，<u>商品号</u>，月销售量）</p>
</blockquote>
<h3 id="3-掌握ER图的集成方法。要解决哪三类冲突？"><a href="#3-掌握ER图的集成方法。要解决哪三类冲突？" class="headerlink" title="3.掌握ER图的集成方法。要解决哪三类冲突？"></a>3.掌握ER图的集成方法。要解决哪三类冲突？</h3><p>ER图集成分两步走：</p>
<ul>
<li>合并E-R图，生成初步E-R图</li>
<li>修改和重构。消除不必要的冗余，生成基本ER图</li>
</ul>
<h4 id="消除冲突"><a href="#消除冲突" class="headerlink" title="消除冲突"></a>消除冲突</h4><p>因为局部应用不同,设计人员不同,所面向的问题不同，从而造成的各局部ER图的不一致。冲突包括<strong>属性冲突</strong>、<strong>命名冲突</strong>和<strong>结构冲突</strong>。</p>
<p><strong>属性冲突</strong></p>
<p>属性域冲突，即属性值的类型、取值范围或取值集合不同。</p>
<blockquote>
<p>例如零件号，有的部门把它定义为整数，有的部门把它定义为字符型。</p>
</blockquote>
<p>属性取值单位冲突</p>
<blockquote>
<p>例如，零件的重量以公斤、斤、克为单位。</p>
</blockquote>
<p><strong>命名冲突</strong></p>
<p>同名异义，即不同意义的对象在不同的局部应用中具有相同的名字。</p>
<p>异名同义（一义多名），即同一意义的对象在不同的局部应用中具有不同的名字。</p>
<p><strong>结构冲突</strong></p>
<p>同一对象在不同应用中具有不同的抽象。</p>
<blockquote>
<p>例如，职工在某一局部应用中被当作实体，而在另一局部应用中则被当作属性。</p>
</blockquote>
<p>同一实体在不同子系统的E-R图中所包含的属性个数和属性排列次序不完全相同。</p>
<p>实体间的联系在不同的E-R图中为不同的类型。</p>
<h3 id="4-数据库实施包含哪些工作"><a href="#4-数据库实施包含哪些工作" class="headerlink" title="4.数据库实施包含哪些工作"></a>4.数据库实施包含哪些工作</h3><p>数据库实施包含两项重要的工作，一项是<strong>数据的载入</strong>，另一项是<strong>应用程序的编码</strong>。</p>
<h2 id="第八章"><a href="#第八章" class="headerlink" title="第八章"></a>第八章</h2><h3 id="1-游标定义和使用的SQL命令动词"><a href="#1-游标定义和使用的SQL命令动词" class="headerlink" title="1.游标定义和使用的SQL命令动词"></a>1.游标定义和使用的SQL命令动词</h3><p>定义游标：定义一个游标，使之对应一个select语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXEC_SQL DECLARE &lt;游标名&gt; CURSORFOR &lt;SELECT语句&gt;</div></pre></td></tr></table></figure>
<p>打开游标：打开一个游标，执行游标对应的查询，结果集合为该游标的活动集。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXECSQL OPEN &lt;游标名&gt;   <span class="comment">//定位于查询结果第一行的前一行</span></div></pre></td></tr></table></figure>
<p>游标推进语句：在活动集中将游标移到特定的行，并取出该行数据放到相应的宿主变量中</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXECSQL FETCH &lt;游标名&gt; INTO &lt;主变量名&gt;</div></pre></td></tr></table></figure>
<p>游标关闭语句：关闭游标，释放活动集及其所占资源，使它不再和查询结果相联系。需要再使用该游标时，执行open语句。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXEC SQL CLOSE &lt;游标名&gt;</div></pre></td></tr></table></figure>
<h3 id="2-创建和执行存储过程的SQL语句"><a href="#2-创建和执行存储过程的SQL语句" class="headerlink" title="2.创建和执行存储过程的SQL语句"></a>2.创建和执行存储过程的SQL语句</h3><h4 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">格式：</div><div class="line">CREATE Procedure 过程名（［参数1，参数2，...］） AS</div><div class="line">&lt;PL/SQL块&gt;；</div></pre></td></tr></table></figure>
<p>过程名：数据库服务器合法的对象标识。</p>
<p>参数列表：用名字来标识调用时给出的参数值，必须指定值的数据类型。参数也可以定义输入参数、输出参数或输入/输出参数。默认为输入参数。</p>
<p>过程体：是一个<pl sql块="">。包括声明部分和可执行语句部分。</pl></p>
<h4 id="执行存储过程"><a href="#执行存储过程" class="headerlink" title="执行存储过程"></a>执行存储过程</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">格式： </div><div class="line">CALL/PERFORM  Procedure 过程名(［参数<span class="number">1</span>，参数<span class="number">2</span>，...］)；</div></pre></td></tr></table></figure>
<p>使用CALL或者PERFORM等方式激活存储过程的执行。</p>
<p>在PL/SQL中，数据库服务器支持在过程体中调用其他存储过程</p>
<h3 id="3-ODBC应用系统包含哪4个部分"><a href="#3-ODBC应用系统包含哪4个部分" class="headerlink" title="3.ODBC应用系统包含哪4个部分"></a>3.ODBC应用系统包含哪4个部分</h3><p>ODBC应用系统由四部分构成：<strong>用户应用程序</strong>、<strong>ODBC驱动程序管理器</strong>、<strong>数据库驱动程序</strong>、<strong>数据源</strong>（关系数据库系统和数据库）。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第七章&quot;&gt;&lt;a href=&quot;#第七章&quot; class=&quot;headerlink&quot; title=&quot;第七章&quot;&gt;&lt;/a&gt;第七章&lt;/h2&gt;&lt;h3 id=&quot;1-数据库设计的特点是什么，可分为哪6个阶段&quot;&gt;&lt;a href=&quot;#1-数据库设计的特点是什么，可分为哪6个阶段&quot; class=&quot;headerlink&quot; title=&quot;1.数据库设计的特点是什么，可分为哪6个阶段&quot;&gt;&lt;/a&gt;1.数据库设计的特点是什么，可分为哪6个阶段&lt;/h3&gt;&lt;h4 id=&quot;特点：&quot;&gt;&lt;a href=&quot;#特点：&quot; class=&quot;headerlink&quot; title=&quot;特点：&quot;&gt;&lt;/a&gt;特点：&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;“三分技术、七分管理、十二分基础数据”是数据库设计的特点之一。&lt;/li&gt;
&lt;li&gt;数据库设计过程中把数据库结构设计和对数据的处理设计密切结合起来，&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;六个阶段：&quot;&gt;&lt;a href=&quot;#六个阶段：&quot; class=&quot;headerlink&quot; title=&quot;六个阶段：&quot;&gt;&lt;/a&gt;六个阶段：&lt;/h4&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>数据库复习大纲（二）</title>
    <link href="http://yoursite.com/2017/06/22/database-review-outline-2/"/>
    <id>http://yoursite.com/2017/06/22/database-review-outline-2/</id>
    <published>2017-06-22T08:23:55.000Z</published>
    <updated>2017-06-23T08:49:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第六章"><a href="#第六章" class="headerlink" title="第六章"></a>第六章</h2><h3 id="1-一个不好关系模式通常存在哪四种问题"><a href="#1-一个不好关系模式通常存在哪四种问题" class="headerlink" title="1.一个不好关系模式通常存在哪四种问题"></a>1.一个不好关系模式通常存在哪四种问题</h3><ol>
<li>数据冗余</li>
<li>更新异常</li>
<li>插入异常</li>
<li>删除异常</li>
</ol>
<h3 id="2-理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码"><a href="#2-理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码" class="headerlink" title="2.理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码"></a>2.理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码</h3><a id="more"></a>
<h4 id="函数依赖"><a href="#函数依赖" class="headerlink" title="函数依赖"></a>函数依赖</h4><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>设关系模式R（U），属性集合U={A1，A2，…，An}，X，Y为属性集合U的子集，如果对于关系模式R(U)的任一可能的关系r，r中的任意两个元组u、v，若有u[X]=v[X]，就有u[Y]=v[Y]，则称X函数决定Y，或称Y函数依赖于X。用符号X→Y表示。其中X为决定因素，Y为被决定因素。若对于R（U）的任意一个可能的关系r，r中不可能存在两个元组在X上的属性值性等，而在Y上的属性值不等。</p>
<ul>
<li>函数依赖是语义范畴的概念，只能根据语义来确定一个函数依赖关系。</li>
<li>函数依赖X→Y的定义要求关系模式R的任何可能的关系r中的元组都满足函数依赖条件。</li>
</ul>
<h5 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h5><ol>
<li>若X→Y，则X称作决定因素（Determinant）</li>
<li>若X→Y，Y→X，称作X&lt;–&gt;Y。</li>
<li>若Y不函数依赖于X，称作X -/-&gt; Y。</li>
<li>X→Y，若Y不是X的子集，则称X→Y为<strong>非平凡的函数依赖</strong>。正常讨论的都是非平凡的函数依赖。</li>
<li>X→Y，若Y是X的子集，则称X→Y为<strong>平凡的函数依赖</strong>。</li>
<li><strong>完全函数依赖</strong>(full functional dependency)：在R(U)中，设X、Y是关系模式R（U）中不同的属性子集，若存在 X→Y，且<strong>不存在</strong> X的任何真子集X’，使得 X’→Y，则称Y完全函数依赖 ( full functional dependency ) 于X。记作            X-F-&gt;Y。</li>
</ol>
<blockquote>
<p>例如：（学号、课程）→成绩就是完全依赖函数，因为（学号、课程）的真子集不论是学号还是课程，都无法推出成绩。</p>
</blockquote>
<ol>
<li><strong>部分函数依赖</strong>：在关系模式R（U）中，X、Y是关系模式R（U）中不同的属性子集，若X→Y成立，如果X中存在任何真子集X’，而且有X’→Y也成立，则称Y对X是部分函数依赖，记作：X-P-&gt;Y。</li>
</ol>
<blockquote>
<p>例如，（学号、课程）→所在系就是部分依赖函数，因为学号→所在系，而学号是（学号、课程）的真子集。</p>
</blockquote>
<h4 id="码"><a href="#码" class="headerlink" title="码"></a>码</h4><p>超码：设X为关系R的属性或属性组，U为R的元组.若X→U，则称X为R的超码。</p>
<p>候选码：设X为R的超码，若X中不含多余属性，则称X为R的候选码。</p>
<p>主码：若关系R有多个候选码，则可以从中选定一个作为R的主码。</p>
<p>主属性：包含在任何一个候选码中的属性，称作主属性，不包含在任何码中的属性称为非主属性。</p>
<p>全码(all-key)：关系模式的码由整个属性组构成。</p>
<h3 id="3-理解1NF、2NF、3NF、BCNF、4NF的特点并判断"><a href="#3-理解1NF、2NF、3NF、BCNF、4NF的特点并判断" class="headerlink" title="3.理解1NF、2NF、3NF、BCNF、4NF的特点并判断"></a>3.理解1NF、2NF、3NF、BCNF、4NF的特点并判断</h3><h4 id="第一范式（1NF）"><a href="#第一范式（1NF）" class="headerlink" title="第一范式（1NF）"></a>第一范式（1NF）</h4><p>关系模式R的所有的<strong>属性值域都是不可再分的</strong>。即不能以集合、序列等作为属性值。</p>
<h4 id="第二范式（2NF）"><a href="#第二范式（2NF）" class="headerlink" title="第二范式（2NF）"></a>第二范式（2NF）</h4><p>对于关系模式R，若R∈1NF，且R中的<strong>每一个非主属性完全函数依赖于R的某个候选键</strong>，则R∈2NF（<strong>消除非主属性对键的部分依赖</strong>）</p>
<blockquote>
<p>sc(<u>sno</u>,sname,<u>cno</u>,grade)</p>
<p>sno→sname 非主属性部分依赖主键</p>
<p>可以划分为</p>
<p>sc(<u>sno,cn</u>o,grade)</p>
<p>s(<u>sno</u>,sname)</p>
</blockquote>
<h4 id="第三范式（3NF）"><a href="#第三范式（3NF）" class="headerlink" title="第三范式（3NF）"></a>第三范式（3NF）</h4><p>如果关系模式R是第二范式，且每个非主属性都不传递依赖于R的候选码，则称R是第三范式(3NF)的模式。则称R∈3NF（<strong>消除非主属性对码的传递依赖</strong>）。</p>
<blockquote>
<p>s(sno,sname,sdept,dept_manager)</p>
<p>sno→sname,sdept    sdept→dept_manager</p>
<p>存在传递依赖：sno→dept_manager</p>
<p>可以划分为</p>
<p>s (sno,sname,sdept)</p>
<p>d(sdept,dept_manager)</p>
</blockquote>
<h4 id="BCNF"><a href="#BCNF" class="headerlink" title="BCNF"></a>BCNF</h4><p>如果关系模式R是第一范式，且每个属性都不传递依赖于R的候选键，那么称R是BCNF的模式。</p>
<blockquote>
<p>sct(s,c,t)    //学生，课程，教师</p>
<p>（S，t），（S，C）为候选键。</p>
<p>t→c           //每位教师只上一门课</p>
<p>s,c→t        //某学生选定一门课，就对应一位老师</p>
<p>s,t→c         //每门课有若干位教师；但某学生选定</p>
<p>​                  一位老师，就对应一门课</p>
<p>sct属于3NF 但不属于BCNF</p>
</blockquote>
<p>简单的判断方法：</p>
<ol>
<li>找出候选码，如上例（S，t），（S，C）为候选码</li>
<li>找出依赖关系</li>
<li>每一个决定属性集是否都包含候选码（箭头左边是不是候选码）</li>
</ol>
<h4 id="第四范式（4NF）"><a href="#第四范式（4NF）" class="headerlink" title="第四范式（4NF）"></a>第四范式（4NF）</h4><p>4NF就是限制关系模式的属性之间不允许有非平凡且非函数依赖的多值依赖。</p>
<h3 id="4-理解多值依赖关系、平凡多值依赖关系的含义"><a href="#4-理解多值依赖关系、平凡多值依赖关系的含义" class="headerlink" title="4.理解多值依赖关系、平凡多值依赖关系的含义"></a>4.理解多值依赖关系、平凡多值依赖关系的含义</h3><p>设R(U)是属性集U上的一个关系模式。X，Y，Z是U的子集,并且Z=U-X-Y。关系模式R(U)中多值依赖X→→Y成立，当且仅当对R(U)的任一关系r,给定的一对(x，z)值有一<strong>组</strong>Y的值，这组值仅仅决定于x值而与z值无关。</p>
<p>若X→→Y，而Z＝Ø，则称X→→Y为<strong>平凡的多值依赖</strong>。否则称X→→Y为<strong>非平凡的多值依赖</strong>。</p>
<blockquote>
<p>关系模式WSC(W,S,C)中，W表示仓库，S表示保管员，C表示商品。假设每个仓库有若干个保管员，有若干种商品。每个保管员保管所在仓库的所有商品，每种商品被所有保管员保管。</p>
<table>
<thead>
<tr>
<th style="text-align:left">W</th>
<th style="text-align:left">S</th>
<th style="text-align:left">C</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S1</td>
<td style="text-align:left">C1</td>
</tr>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S1</td>
<td style="text-align:left">C2</td>
</tr>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S1</td>
<td style="text-align:left">C3</td>
</tr>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S2</td>
<td style="text-align:left">C1</td>
</tr>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S2</td>
<td style="text-align:left">C2</td>
</tr>
<tr>
<td style="text-align:left">W1</td>
<td style="text-align:left">S2</td>
<td style="text-align:left">C3</td>
</tr>
<tr>
<td style="text-align:left">W2</td>
<td style="text-align:left">S3</td>
<td style="text-align:left">C4</td>
</tr>
<tr>
<td style="text-align:left">W2</td>
<td style="text-align:left">S3</td>
<td style="text-align:left">C5</td>
</tr>
<tr>
<td style="text-align:left">W2</td>
<td style="text-align:left">S4</td>
<td style="text-align:left">C4</td>
</tr>
<tr>
<td style="text-align:left">W2</td>
<td style="text-align:left">S4</td>
<td style="text-align:left">C5</td>
</tr>
</tbody>
</table>
</blockquote>
<p>对于W的每一个值，不论C取什么值，S有一个完整的集与它对应所以W→→ S</p>
<p>由于C和S完全对称，所以必然W→→ C成立</p>
<h3 id="5-多值依赖与函数依赖的区别是什么"><a href="#5-多值依赖与函数依赖的区别是什么" class="headerlink" title="5.多值依赖与函数依赖的区别是什么"></a>5.多值依赖与函数依赖的区别是什么</h3><h4 id="1"><a href="#1" class="headerlink" title="(1)"></a>(1)</h4><ul>
<li>X→Y的有效性仅决定于X、Y属性集上的值，它在任何属性集W（XY ∈W ∈ U）上都成立。若X→Y在R(U)上成立，则对于任何Y′∈Y，均有X→Y ′成立。</li>
<li>X→→Y在属性集W（XY ∈W  ∈ U）上成立，但在U上不一定成立。因为多值依赖的定义中不仅涉及属性组X和Y，而且涉及U中其余属性Z。</li>
</ul>
<h4 id="2"><a href="#2" class="headerlink" title="(2)"></a>(2)</h4><ul>
<li>若X→→Y在R(U)上成立，则不能断言对于Y′ ∈  Y，是否有X→→Y ′成立。</li>
<li>若X→Y在R(U)上成立，则对于Y′ ∈  Y，有X→Y ′成立。</li>
</ul>
<h3 id="6-运用关系运算律完成关系模式的规范化"><a href="#6-运用关系运算律完成关系模式的规范化" class="headerlink" title="6.运用关系运算律完成关系模式的规范化"></a>6.运用关系运算律完成关系模式的规范化</h3><p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/39400146.jpg" alt=""></p>
<h3 id="7-如何计算闭包"><a href="#7-如何计算闭包" class="headerlink" title="7.如何计算闭包"></a>7.如何计算闭包</h3><p>F为关系模式R(U)的函数依赖集，我们把F以及所有被F逻辑蕴涵的函数依赖的集合称为F的闭包，记为F+。</p>
<p>示例1:</p>
<blockquote>
<p>对关系R（A,B,C,D,E,F）,给定函数依赖AB→C,BC→AD,D→B,CF→B,求 {A，B}+</p>
<p>{AB}+=AB</p>
<p>{AB}+=ABC  //AB→C</p>
<p>{AB}+=ABCD  //BC→AD</p>
<p>{AB}+=ABCD  //D→B</p>
</blockquote>
<p>示例2:</p>
<blockquote>
<p>R (A, B, C, G, H, I), F = {A→B, A→C, CG→H, CG→I, B→H},计算(AG)F+ </p>
<table>
<thead>
<tr>
<th>所用依赖</th>
<th>(AG)F+</th>
</tr>
</thead>
<tbody>
<tr>
<td>A→B</td>
<td>AGB</td>
</tr>
<tr>
<td>A→C</td>
<td>AGBC</td>
</tr>
<tr>
<td>CG→H</td>
<td>AGBCH</td>
</tr>
<tr>
<td>CG→I</td>
<td>AGBCHI</td>
</tr>
</tbody>
</table>
<p>(AG)F+  = AGBCHI</p>
</blockquote>
<h3 id="8-理解无损连接性和保持函数依赖的概念并判断"><a href="#8-理解无损连接性和保持函数依赖的概念并判断" class="headerlink" title="8.理解无损连接性和保持函数依赖的概念并判断"></a>8.理解无损连接性和保持函数依赖的概念并判断</h3><h4 id="无损连接的判断"><a href="#无损连接的判断" class="headerlink" title="无损连接的判断"></a>无损连接的判断</h4><p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/97773069.jpg" alt=""></p>
<ol>
<li>建立一张n列k行的表，每一列对应一个属性，每一行对应分解中的一个关系模式。若属性Aj属于Ui，则在j列i行上真上aj，否则填上bij；</li>
<li>依次考察每一个依赖关系FDi（Xi→Ai），找到Xi所对应的列，并且列中元素为ai的行，所对应的Ai中的元素是否有ai，如果有，则全部改成ai，反之则全部改成bmj，m为这些行号最小值。</li>
<li>直到表格中出现一行为a1, a2 , … , an 的一行。说明是无损连接。反之则为有损。</li>
</ol>
<h4 id="保持函数依赖的判断"><a href="#保持函数依赖的判断" class="headerlink" title="保持函数依赖的判断"></a>保持函数依赖的判断</h4><p>看懂就行。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-23/83584879.jpg" alt=""></p>
<h3 id="9-如何计算关系的最小依赖集。掌握无损连接的BCNF分解算法，掌握无损连接、保持依赖的3NF分解算法。"><a href="#9-如何计算关系的最小依赖集。掌握无损连接的BCNF分解算法，掌握无损连接、保持依赖的3NF分解算法。" class="headerlink" title="9.如何计算关系的最小依赖集。掌握无损连接的BCNF分解算法，掌握无损连接、保持依赖的3NF分解算法。"></a>9.如何计算关系的最小依赖集。掌握无损连接的BCNF分解算法，掌握无损连接、保持依赖的3NF分解算法。</h3><h4 id="最小依赖集"><a href="#最小依赖集" class="headerlink" title="最小依赖集"></a>最小依赖集</h4><p>每个函数依赖集F都可以被一个右部只有单属性的函数依赖集G所覆盖。</p>
<p>满足下列条件的函数依赖集F称为最小函数依赖集合，记作Fmin：</p>
<p><strong>右边单属性化</strong>：F中任一函数依赖X→ A，A必是单属性。</p>
<p><strong>无冗余依赖</strong>：F中不存在这样的函数依赖X → A，使得F与F - {X →A}等价。</p>
<p><strong>无冗余决定属性</strong>：F中不存在这样的函数依赖X → A，在X中有真子集Z，使得F与（F - {X → A}） È {Z → A}等价。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第六章&quot;&gt;&lt;a href=&quot;#第六章&quot; class=&quot;headerlink&quot; title=&quot;第六章&quot;&gt;&lt;/a&gt;第六章&lt;/h2&gt;&lt;h3 id=&quot;1-一个不好关系模式通常存在哪四种问题&quot;&gt;&lt;a href=&quot;#1-一个不好关系模式通常存在哪四种问题&quot; class=&quot;headerlink&quot; title=&quot;1.一个不好关系模式通常存在哪四种问题&quot;&gt;&lt;/a&gt;1.一个不好关系模式通常存在哪四种问题&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;数据冗余&lt;/li&gt;
&lt;li&gt;更新异常&lt;/li&gt;
&lt;li&gt;插入异常&lt;/li&gt;
&lt;li&gt;删除异常&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;2-理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码&quot;&gt;&lt;a href=&quot;#2-理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码&quot; class=&quot;headerlink&quot; title=&quot;2.理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码&quot;&gt;&lt;/a&gt;2.理解并会判断属性的函数依赖关系，平凡、部分、传递函数依赖关系、候选码、主码、主属性、非主属性、全码&lt;/h3&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>数据库复习大纲(一)</title>
    <link href="http://yoursite.com/2017/06/22/Database-review-outline1/"/>
    <id>http://yoursite.com/2017/06/22/Database-review-outline1/</id>
    <published>2017-06-22T06:48:41.000Z</published>
    <updated>2017-06-23T13:09:12.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><h3 id="1-什么是数据库？数据库数据有哪三个基本特点？"><a href="#1-什么是数据库？数据库数据有哪三个基本特点？" class="headerlink" title="1.什么是数据库？数据库数据有哪三个基本特点？"></a>1.什么是数据库？数据库数据有哪三个基本特点？</h3><p>数据库是长期储存在计算机内，有组织，可共享的大量数据集合。数据库中的数据按一定的数据模型组织、描述和储存，具有<strong>较小的冗余度</strong>、<strong>较高的数据独立性</strong>和<strong>易扩展性</strong>，并可为各种用户共享<br><a id="more"></a></p>
<h3 id="2-数据库管理系统有哪些功能？"><a href="#2-数据库管理系统有哪些功能？" class="headerlink" title="2.数据库管理系统有哪些功能？"></a>2.数据库管理系统有哪些功能？</h3><ol>
<li>数据定义功能</li>
<li>数据组织、存储和管理功能</li>
<li>数据操作功能</li>
<li>数据库事务管理和运行管理</li>
<li>数据库的建立和维护功能</li>
<li>其他</li>
</ol>
<h3 id="3-数据库系统有几个特点？它与文件系统的本质区别是什么？"><a href="#3-数据库系统有几个特点？它与文件系统的本质区别是什么？" class="headerlink" title="3. 数据库系统有几个特点？它与文件系统的本质区别是什么？"></a>3. 数据库系统有几个特点？它与文件系统的本质区别是什么？</h3><h4 id="1-数据结构化"><a href="#1-数据结构化" class="headerlink" title="(1)数据结构化"></a>(1)数据结构化</h4><p>数据库系统实现整体数据结构化，这是数据库的主要功能之一，也是数据库系统与文件系统的本质区别。</p>
<p>文件系统中，记录的结构和记录之间的联系被固化在程序中，需要由程序员加以维护，既加重了程序员负担，由不利于结构变动</p>
<h4 id="2-数据的共享性高，冗余度低且易扩充"><a href="#2-数据的共享性高，冗余度低且易扩充" class="headerlink" title="(2)数据的共享性高，冗余度低且易扩充"></a>(2)数据的共享性高，冗余度低且易扩充</h4><p>数据共享可以大大减少数据冗余，介于存储空间。数据共享还能够避免数据之间的不相容性与不一致性。</p>
<h4 id="3-数据独立度高"><a href="#3-数据独立度高" class="headerlink" title="(3)数据独立度高"></a>(3)数据独立度高</h4><p>物理独立性：用户的应用程序与数据库中数据的物理结构是相互独立的。</p>
<p>逻辑独立性：用户的应用程序与数据库的逻辑结构是相互独立的。</p>
<h4 id="4-数据由数据库管理系统统一管理和控制"><a href="#4-数据由数据库管理系统统一管理和控制" class="headerlink" title="(4)数据由数据库管理系统统一管理和控制"></a>(4)数据由数据库管理系统统一管理和控制</h4><p>数据库的共享将会带来数据库的安全隐患，为此数据库管理系统提供了<strong>数据库的安全性保护</strong>、<strong>数据库的完整性检查</strong>、<strong>并发控制</strong>和<strong>数据库恢复</strong>。</p>
<h3 id="4-理解概念模型中的基本概念"><a href="#4-理解概念模型中的基本概念" class="headerlink" title="4.理解概念模型中的基本概念"></a>4.理解概念模型中的基本概念</h3><p>概念模型实际上是现实世界到机器世界到一个中间层次，它用于信息世界的建模，是现实世界到信息世界的第一层抽象，是数据库设计人员进行数据库设计的有力工具。</p>
<p>信息世界中的主要概念：</p>
<p><strong>实体</strong></p>
<p>客观存在并可相互区别的事务称为实体</p>
<p><strong>属性</strong></p>
<p>实体所具有的某一特性称为属性，用椭圆形表示</p>
<p><strong>码（key）</strong></p>
<p>唯一标识实体属性集称为码</p>
<p><strong>实体型</strong></p>
<p>用实体名及属性名集合来抽象和刻画同类实体，称为实体型，矩形框表示</p>
<p><strong>实体集</strong></p>
<p>同一类型实体的集合，如全体学生</p>
<p><strong>联系</strong></p>
<p>不同实体集之间的联系，有1V1、1Vn、nVn等多种类型</p>
<p><strong>概念模型的一种表示方式</strong>：实体联系方法（ER模型）</p>
<h3 id="5-什么是数据模型的三要素？有几种常用的数据模型。"><a href="#5-什么是数据模型的三要素？有几种常用的数据模型。" class="headerlink" title="5.什么是数据模型的三要素？有几种常用的数据模型。"></a>5.什么是数据模型的三要素？有几种常用的数据模型。</h3><h4 id="数据模型三要素："><a href="#数据模型三要素：" class="headerlink" title="数据模型三要素："></a>数据模型三要素：</h4><p>数据模型是严格定义的一组概念的集合，数据模型的三要素是<strong>数据结构</strong>、<strong>数据操作</strong>和<strong>完整性约束</strong>三部分组成。</p>
<ol>
<li>数据结构：描述数据库的组成对象以及对象之间的联系。是对系统静态特征的描述。</li>
<li>数据操作：数据库中各种对象的实例允许执行的操作的集合，包括操作及有关操作规则。数据操作是对系统动态特征的描述。</li>
<li>数据库的完整性约束条件：是一组完整性规则。</li>
</ol>
<h4 id="常用的数据模型："><a href="#常用的数据模型：" class="headerlink" title="常用的数据模型："></a>常用的数据模型：</h4><h5 id="1-层次模型"><a href="#1-层次模型" class="headerlink" title="(1) 层次模型"></a>(1) 层次模型</h5><h6 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h6><ol>
<li>层次模型的数据结构比较简单清晰</li>
<li>层次数据库的查询效率较高</li>
<li>提供了良好的完整性支持</li>
</ol>
<h6 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h6><ol>
<li>现实世界很多联系是非层次的，如多对多</li>
<li>如果一个结点具有多个双亲结点，引入冗余，使应用程序编写复杂</li>
<li>查询子女结点必须通过双亲节点</li>
<li>由于结构严密，层次命令趋于程序化</li>
</ol>
<h5 id="2-网状模型"><a href="#2-网状模型" class="headerlink" title="(2)网状模型"></a>(2)网状模型</h5><h6 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h6><ol>
<li>能够更为直接的描述现实世界</li>
<li>具有良好的性能，存取效率高</li>
</ol>
<h6 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h6><ol>
<li>结构复杂，不利于最终用户掌握</li>
<li>网状模型的DDL、DML复杂，用户不容易掌握和使用</li>
<li>记录之间联系是通过存储路径实现的，因此用户必须掌握结构细节，加重编写应用程序的负担。</li>
</ol>
<h5 id="3-关系模型"><a href="#3-关系模型" class="headerlink" title="(3)关系模型"></a>(3)关系模型</h5><h6 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h6><ol>
<li>关系模式与格式化模型不同，它建立在严格的数学概念的基础上</li>
<li>关系模型的概念单一，数据结构简单、清晰，用户易懂易用</li>
<li>关系模型的存取路径对用户透明，具有更高的数据独立性、更好的安全保密性，也简化了程序员工作和数据库开发建立的工作</li>
</ol>
<h3 id="6-数据库系统的三级模式结构和两层映像。特点是什么？"><a href="#6-数据库系统的三级模式结构和两层映像。特点是什么？" class="headerlink" title="6.数据库系统的三级模式结构和两层映像。特点是什么？"></a>6.数据库系统的三级模式结构和两层映像。特点是什么？</h3><p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/20409749.jpg" alt="数据库三级模式图"></p>
<h4 id="三级模式"><a href="#三级模式" class="headerlink" title="三级模式"></a>三级模式</h4><h5 id="1-模式"><a href="#1-模式" class="headerlink" title="1.模式"></a>1.模式</h5><p><strong>模式也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。</strong>它是数据库系统模式结构的中间层。</p>
<h5 id="2-外模式"><a href="#2-外模式" class="headerlink" title="2.外模式"></a>2.外模式</h5><p><strong>外模式也称子模式或用户模式，他是数据库用户能够看见和使用的局部数据的逻辑结构和特征描述，是数据库用户的数据视图，是与某一用户有关的数据的逻辑表示。</strong></p>
<h5 id="3-内模式"><a href="#3-内模式" class="headerlink" title="3.内模式"></a>3.内模式</h5><p><strong>内模式也称存储模式，一个数据库只有一个内模式。他是数据物理结构和存储方式的描述，是数据在数据库内部的组织方式。</strong></p>
<h4 id="两层映像"><a href="#两层映像" class="headerlink" title="两层映像"></a>两层映像</h4><h5 id="1-外模式／模式映像"><a href="#1-外模式／模式映像" class="headerlink" title="1.外模式／模式映像"></a>1.外模式／模式映像</h5><p>模式描述的是数据的全局逻辑结构，外模式描述的是数据的局部逻辑结构，对于同一个模式可以有任意多个外模式，对于每一个外模式，数据库系统都有一个外模式／模式映像，它定义了该外模式与模式的对应关系。</p>
<p><strong>当模式改变时，由数据库管理员对各个外模式／模式的映像作相应改变，可以使外模式保持不变。应用程序是依据数据外模式编写的，从而应用程序不必修改，保证了数据与程序的逻辑独立性。</strong></p>
<h5 id="2-模式／内模式映像"><a href="#2-模式／内模式映像" class="headerlink" title="2.模式／内模式映像"></a>2.模式／内模式映像</h5><p>数据库中只有一个模式，也只有一个内模式，所以模式／内模式映像是唯一的，它定义了数据全局逻辑与存储结构之间的对应关系。<strong>当数据库的存储结构改变时，由数据库管理员对模式／内模式映像作相应改变，可以使模式保持不变，从而应用程序也不必改变。保证了数据与程序的物理独立性。</strong></p>
<h3 id="7-开发、管理和使用数据库的人员有哪几类？"><a href="#7-开发、管理和使用数据库的人员有哪几类？" class="headerlink" title="7.开发、管理和使用数据库的人员有哪几类？"></a>7.开发、管理和使用数据库的人员有哪几类？</h3><p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/57039615.jpg" alt=""></p>
<h4 id="1-数据库管理员（DBA）"><a href="#1-数据库管理员（DBA）" class="headerlink" title="1.数据库管理员（DBA）"></a>1.数据库管理员（DBA）</h4><p>负责全面控制和管理数据库系统</p>
<h4 id="2-系统分析员和数据库设计人员"><a href="#2-系统分析员和数据库设计人员" class="headerlink" title="2.系统分析员和数据库设计人员"></a>2.系统分析员和数据库设计人员</h4><p>分析员负责应用系统的需求分析和规范说明，参与数据库系统概要设计</p>
<p>设计人员负责数据库中数据的确定及数据库各级模式的设计</p>
<h4 id="3-应用程序员"><a href="#3-应用程序员" class="headerlink" title="3.应用程序员"></a>3.应用程序员</h4><p>负责设计和编写应用系统模块，并进行调试和安装</p>
<h4 id="4-用户"><a href="#4-用户" class="headerlink" title="4.用户"></a>4.用户</h4><p>指最终用户，通过应用系统的用户接口使用数据库</p>
<h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><h3 id="1-理解关系的有关术语并会判断"><a href="#1-理解关系的有关术语并会判断" class="headerlink" title="1.理解关系的有关术语并会判断"></a>1.理解关系的有关术语并会判断</h3><h4 id="1-域"><a href="#1-域" class="headerlink" title="(1)域"></a>(1)域</h4><p>一组具有相同数据类型的值的集合</p>
<p>例如：自然数、整数、长度小于25字节的字符串集合、{0,1}、{男、女}等</p>
<h4 id="2-笛卡尔积"><a href="#2-笛卡尔积" class="headerlink" title="(2)笛卡尔积"></a>(2)笛卡尔积</h4><p>笛卡尔积是域上的一种集合运算，就是把两个表相乘。</p>
<p>一个域允许的不同取值个数称为这个域的<strong>基数</strong></p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">D1</span>×<span class="built_in">D2</span>×···×<span class="meta">Dn</span>=&#123;(<span class="built_in">d1</span>,<span class="built_in">d2</span>,···,<span class="meta">dn</span>) <span class="title">| di∈Di，i=1,2,···，n&#125;</span></div></pre></td></tr></table></figure>
<p>例子，设有两个域：姓名集D1={李倩，王刚，张体宁} 和 性别集D2={男，女}。则：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">设有两个域：姓名集<span class="built_in">D1</span>=&#123;李倩，王刚，张体宁&#125; 和 性别集<span class="built_in">D2</span>=&#123;男，女&#125;。</div></pre></td></tr></table></figure>
<p>这六个<strong>元组</strong>可构成一张二维表，表中部分元组称作其子集。</p>
<table>
<thead>
<tr>
<th style="text-align:center">D1</th>
<th style="text-align:center">D2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">李倩</td>
<td style="text-align:center">女</td>
</tr>
<tr>
<td style="text-align:center">王刚</td>
<td style="text-align:center">女</td>
</tr>
<tr>
<td style="text-align:center">张体宁</td>
<td style="text-align:center">女</td>
</tr>
<tr>
<td style="text-align:center">李倩</td>
<td style="text-align:center">男</td>
</tr>
<tr>
<td style="text-align:center">王刚</td>
<td style="text-align:center">男</td>
</tr>
<tr>
<td style="text-align:center">张体宁</td>
<td style="text-align:center">男</td>
</tr>
</tbody>
</table>
<h4 id="3-关系"><a href="#3-关系" class="headerlink" title="(3)关系"></a>(3)关系</h4><p>D1xD2xD3…Dn的子集叫做在域D1，D2，…，Dn上的<strong>关系</strong></p>
<p><strong>候选码的定义</strong>：如果关系中的某一属性组的值能唯一地标识一个元祖，则称该属性组为候选码；</p>
<p><strong>主码的定义</strong>：如果一个关系有多个候选码，则选定其中一个为主码；</p>
<p><strong>主属性定义</strong>：候选码的诸属性称为主属性；</p>
<p><strong>非主属性定义</strong>：不包含在任何候选码中的属性称为非主属性；</p>
<p><strong>全码</strong>：最极端的情况下，所有属性都为候选码，成为全码</p>
<p><strong>关系的三种类型</strong>：基本关系（基本表）、查询表和视图表。基本表是实际存在的表，它是实际存储数据的逻辑表示；查询表是查询结果对应的表；视图表是由基本表或其他视图表导出的表，是虚表，不对应实际存储的数据。</p>
<h3 id="2-理解基本关系的6条性质"><a href="#2-理解基本关系的6条性质" class="headerlink" title="2.理解基本关系的6条性质"></a>2.理解基本关系的6条性质</h3><ol>
<li>列是同质的，即每一列中的分量是同一类型的数据，来自同一个域。</li>
<li>不同的列可出自同一个域，称其中的每一列为一个属性，不同的属性要给予不同的属性名。</li>
<li>列的顺序无所谓，即列的次序可以任意交换。</li>
<li>任意两个元组的候选码不能取相同的值</li>
<li>行的顺序无所谓，可以任意交换</li>
<li>分量必须取原子值，即每一个分量是不可分的数据项<strong>（最基本的一条）</strong></li>
</ol>
<h3 id="3-理解实体完整性、参照完整性的规则并举例"><a href="#3-理解实体完整性、参照完整性的规则并举例" class="headerlink" title="3.理解实体完整性、参照完整性的规则并举例"></a>3.理解实体完整性、参照完整性的规则并举例</h3><p>关系模式中有三类完整性约束：<strong>实体完整性</strong>、<strong>参照完整性</strong>和<strong>用户定义的完整性</strong>。</p>
<h4 id="1-实体完整性规则"><a href="#1-实体完整性规则" class="headerlink" title="(1)实体完整性规则"></a>(1)实体完整性规则</h4><p><strong>若一个属性A是基本关系R的主属性，则A不能取空值。</strong></p>
<p>例如：学生（<u>学号</u>、姓名、性别、专业号、年龄）关系中学号为主码，则学号不能取空值。</p>
<p><strong>如果主码由若干属性组成，则这些主属性都不能取空值</strong></p>
<p>例如：选修（<u>学号、课程号</u>、成绩）关系中，“学号、课程号“为主码，则两个属性都不能取空值</p>
<p>对于实体完整性规则如下：</p>
<ol>
<li>实体完整性规则是针对基本关系而言的。一个基本表通常对应现实世界的一个实体集。例如学生关系对应于学生的集合。</li>
<li>现实世界中的实体是不可区分的，即他们具有某种唯一性标识。例如每个学生都是独立的个体。</li>
<li>关系模型中的主码作为唯一性标识。</li>
<li>主码的属性既主属性不能取空值。</li>
</ol>
<h4 id="2-参照完整性规则"><a href="#2-参照完整性规则" class="headerlink" title="(2)参照完整性规则"></a>(2)参照完整性规则</h4><p>若属性F是基本关系R的外码，它与基本关系S的主码Ks相对应，则对于R中的每个元组F上的值必须：</p>
<ul>
<li>或者取空值（F的每个属性值均为空值）</li>
<li>或者等于S中某个元组的主码值</li>
</ul>
<p>例如：</p>
<p>学生（<u>学号</u>，姓名，性别，专业号，年龄）</p>
<p>专业（<u>专业号</u>，专业名）</p>
<p>学生关系中的每个元组的“专业号”属性只能取下面两类值：</p>
<ul>
<li>空值，表示尚未给该学生分配专业</li>
<li>非空值，该值必须对应专业关系中某个元组的“专业号”值</li>
</ul>
<h3 id="4-理解关系的外码、参照关系、被参照关系"><a href="#4-理解关系的外码、参照关系、被参照关系" class="headerlink" title="4.理解关系的外码、参照关系、被参照关系"></a>4.理解关系的外码、参照关系、被参照关系</h3><p>设F是基本关系R的一个或一组属性，但不是关系的码，Ks是基本关系S的主码。如果F和Ks相对应，则称F是R的<strong>外码</strong>，并称基本关系R为<strong>参照关系</strong>，基本关系S为<strong>被参照关系</strong>或目标关系</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/2282416.jpg" alt=""></p>
<h3 id="5-理解元组、分量、连接、象集等概念和记号表示及判断"><a href="#5-理解元组、分量、连接、象集等概念和记号表示及判断" class="headerlink" title="5.理解元组、分量、连接、象集等概念和记号表示及判断"></a>5.理解元组、分量、连接、象集等概念和记号表示及判断</h3><p>每一个元素{d1，d2，…，dn}叫做一个<strong>n元组</strong>，或简称<strong>元组</strong>。元素中的每一个值di叫做一个分量。</p>
<p><strong>连接</strong>也称θ连接。他是从两个关系的笛卡尔积中选取属性间满足一定条件的元组。记作</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">R∞S=&#123;<span class="keyword">tr</span> <span class="keyword">ts</span>|(<span class="keyword">tr</span>∈R) ∧ (<span class="keyword">ts</span> ∈S) ∧ <span class="keyword">tr</span>[A] θ <span class="keyword">ts</span>[B] &#125;</div><div class="line">AθB</div></pre></td></tr></table></figure>
<p>连接运算从R和S的笛卡尔积RxS中选取R关系在A属性组上的值与S关系在B属性组上的值满足比较关系θ的元组</p>
<p><strong>象集</strong>的概念。<br>在关系R中属性A可以取四个值｛a1,a2,a3,a4}其中<br>a1的象集为｛(b1,c2),(b2,c3),(b2,c1)}<br>a2的象集为｛(b3,c7),(b2,c3)}<br>a3的象集为｛(b4,c6)}<br>a4的象集为｛(b6,c6)} </p>
<p><strong>R:</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>a1</td>
<td>b1</td>
<td>c2</td>
</tr>
<tr>
<td>a2</td>
<td>b3</td>
<td>c7</td>
</tr>
<tr>
<td>a3</td>
<td>b4</td>
<td>c6</td>
</tr>
<tr>
<td>a1</td>
<td>b2</td>
<td>c3</td>
</tr>
<tr>
<td>a4</td>
<td>b6</td>
<td>c6</td>
</tr>
<tr>
<td>a2</td>
<td>b2</td>
<td>c3</td>
</tr>
<tr>
<td>A1</td>
<td>B2</td>
<td>c1</td>
</tr>
</tbody>
</table>
<h3 id="6-理解各种关系代数运算及特点。要求分析给定关系的运算结果；以及根据要求完成的操作结果给出相应的运算式"><a href="#6-理解各种关系代数运算及特点。要求分析给定关系的运算结果；以及根据要求完成的操作结果给出相应的运算式" class="headerlink" title="6.理解各种关系代数运算及特点。要求分析给定关系的运算结果；以及根据要求完成的操作结果给出相应的运算式"></a>6.理解各种关系代数运算及特点。要求分析给定关系的运算结果；以及根据要求完成的操作结果给出相应的运算式</h3><p>关系运算包括：选择、投影、连接、除等。</p>
<p>设t为R的元组变量，R(U)=R(A1，A2，···，An)，则引入记号：</p>
<blockquote>
<p>t[A]：表示关系R在A属性（组）上的所有值。</p>
</blockquote>
<h4 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h4><p>选择是在<strong>关系行上进行的元组挑选</strong>，结果产生同类关系。运算表达式如下：</p>
<blockquote>
<p>σF(R)={t | t∈R ∧ F(t)=true }</p>
</blockquote>
<p>σF(R)表示从关系R中选出满足条件表达式F的那些元组所构成的关系。其中F由属性名（值）、比较符、逻辑运算符组成。</p>
<p>看个例子</p>
<p>R:</p>
<table>
<thead>
<tr>
<th>A1</th>
<th>A2</th>
<th>A3</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>a</td>
<td>3</td>
<td>f</td>
</tr>
<tr>
<td>b</td>
<td>2</td>
<td>d</td>
</tr>
<tr>
<td>c</td>
<td>2</td>
<td>d</td>
</tr>
<tr>
<td>e</td>
<td>6</td>
<td>f</td>
</tr>
<tr>
<td>g</td>
<td>6</td>
<td>f</td>
</tr>
</tbody>
</table>
<p>则σA2&gt;5 (R)</p>
<table>
<thead>
<tr>
<th>A1</th>
<th>A2</th>
<th>A3</th>
</tr>
</thead>
<tbody>
<tr>
<td>e</td>
<td>6</td>
<td>f</td>
</tr>
<tr>
<td>g</td>
<td>6</td>
<td>f</td>
</tr>
</tbody>
</table>
<h4 id="投影"><a href="#投影" class="headerlink" title="投影"></a>投影</h4><p>投影运算时在关系列上进行的选择，结果产生不同类关系。运算式表示如下：</p>
<blockquote>
<p>ΠA(R)={t[a] | (t∈R)}</p>
</blockquote>
<p>继续使用上面的例子，上面例子中对应的ΠA3,A2(R)为：</p>
<table>
<thead>
<tr>
<th>A3</th>
<th>A2</th>
</tr>
</thead>
<tbody>
<tr>
<td>f</td>
<td>3</td>
</tr>
<tr>
<td>d</td>
<td>2</td>
</tr>
<tr>
<td>f</td>
<td>6</td>
</tr>
</tbody>
</table>
<h4 id="除"><a href="#除" class="headerlink" title="除"></a>除</h4><p>设关系R(X,Y)和S(Y,Z)，X，Y，Z为属性组。X属性上的值为Xi。则：</p>
<blockquote>
<p>R÷S= {t[X] | t∈R ∧ ΠY(S)⊆YX}</p>
</blockquote>
<p>求 R÷S步骤如下：</p>
<blockquote>
<ol>
<li>求ΠX(R)</li>
<li>求ΠY(S)</li>
<li>YX为Xi在R中的象集，他表示R中属性组X上值为xi的诸元素在Y上分量的集合</li>
<li>R÷S运算结果为：象集YX包含了ΠY(S)的xi</li>
</ol>
</blockquote>
<p>求象集YX的方法为：对于每个值xi，xi∈Πx(R),求ΠY(σX=xi(R))</p>
<p>看个例子</p>
<p>关系R中A可以取{a1,a2,a3,a4}</p>
<p>a1的象集为a1的象集为｛(b1,c2),(b2,c3),(b2,c1)}<br>a2的象集为｛(b3,c7),(b2,c3)}<br>a3的象集为｛(b4,c6)}<br>a4的象集为｛(b6,c6)}<br>S在（B,C）上的投影为｛(b1,c2),(b2,c3),(b2,c1) }. </p>
<p>因此只有a1的象集包含了S在（B，C）上的投影，所以</p>
<p>R➗S={a1}</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/78829772.jpg" alt=""></p>
<h3 id="7-掌握等值连接与自然连接之间的区别"><a href="#7-掌握等值连接与自然连接之间的区别" class="headerlink" title="7.掌握等值连接与自然连接之间的区别"></a>7.掌握等值连接与自然连接之间的区别</h3><p>连接是在两个关系的笛卡尔积基础上再做选择运算得到的关系。如果连接条件相等，则称是等值连接，否则为不等值连接。在等值连接的基础上去除重复的列，则为自然连接。</p>
<p>一张图说明</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/22256984.jpg" alt=""></p>
<h2 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h2><h3 id="1-SQL的特点和基本概念"><a href="#1-SQL的特点和基本概念" class="headerlink" title="1.SQL的特点和基本概念"></a>1.SQL的特点和基本概念</h3><h4 id="SQL的特点"><a href="#SQL的特点" class="headerlink" title="SQL的特点"></a>SQL的特点</h4><h5 id="1-综合统一"><a href="#1-综合统一" class="headerlink" title="(1)综合统一"></a>(1)综合统一</h5><p>数据库系统的主要功能是通过数据库支持的数据语言来实现的，SQL集数据定义语言、数据操纵语言、数据控制语言的功能于一体，语言风格统一，可以独立完成数据库生命周期中的全部活动</p>
<h5 id="2-高度非过程化"><a href="#2-高度非过程化" class="headerlink" title="(2)高度非过程化"></a>(2)高度非过程化</h5><p>只要提出做什么，而无须指明怎么做，因此无需了解存储路径。</p>
<h5 id="3-面向集合的操作方式"><a href="#3-面向集合的操作方式" class="headerlink" title="(3)面向集合的操作方式"></a>(3)面向集合的操作方式</h5><p>SQL采用集合操作方式，不仅操作对象、查找结果可以是元组的集合，而且一次插入、删除、更新操作的对象也可以是元组的集合</p>
<h5 id="4-以一种语法结构提供多种使用方式"><a href="#4-以一种语法结构提供多种使用方式" class="headerlink" title="(4)以一种语法结构提供多种使用方式"></a>(4)以一种语法结构提供多种使用方式</h5><p>SQL既是独立的语言，又是嵌入式语言，能够嵌入到高级语言（java、c++等）程序中</p>
<h5 id="5-语言简洁，易学易用"><a href="#5-语言简洁，易学易用" class="headerlink" title="(5)语言简洁，易学易用"></a>(5)语言简洁，易学易用</h5><p>设计巧妙，语言简洁，接近口语</p>
<h4 id="SQL的基本概念"><a href="#SQL的基本概念" class="headerlink" title="SQL的基本概念"></a>SQL的基本概念</h4><p>支持SQL的关系数据库管理系统同样支持关系数据库的三级模式结构。其中外模式包括若干视图和部分基本表，数据库模式包括若干基本表，内模式包括若干存储文件。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-6-21/54502437.jpg" alt=""></p>
<h3 id="2-掌握创建数据库、表、架构（模式）、完整性的SQL语句"><a href="#2-掌握创建数据库、表、架构（模式）、完整性的SQL语句" class="headerlink" title="2.掌握创建数据库、表、架构（模式）、完整性的SQL语句"></a>2.掌握创建数据库、表、架构（模式）、完整性的SQL语句</h3><h4 id="1-SQL模式的创建和删除"><a href="#1-SQL模式的创建和删除" class="headerlink" title="(1)SQL模式的创建和删除"></a>(1)SQL模式的创建和删除</h4><h5 id="模式创建"><a href="#模式创建" class="headerlink" title="模式创建"></a>模式创建</h5><p>在SQL中，一个SQL模式被定义为基本表的集合。一个SQL模式由模式名和模式拥有者的用户名或账号来确定，并包含模式中每一个元素的定义。创建一个SQL模式，就是定义了一个存储空间(命名空间)。</p>
<p>模式(架构)是一个对象的容器，它包含表、视图、存储过程等数据对象的容器。从包含关系上来讲，模式位于数据库内部，而数据库位于服务器内部。</p>
<p>SQL模式的创建可以用CREATE语句实现，句法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span>&lt;模式名&gt;AUTHORIZATION &lt;用户名&gt;</div></pre></td></tr></table></figure>
<p>例如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> “S-T” AUTHORIZATION WANG</div></pre></td></tr></table></figure>
<p>为用户wang定义了一个学生-课程模式S-T</p>
<h5 id="模式删除"><a href="#模式删除" class="headerlink" title="模式删除"></a>模式删除</h5><p>当一个SQL模式及其所属的基本表、视图等元素都不需要时，可以用<code>DROP</code>语句删除这个SQL模式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DROP</span> <span class="keyword">SCHEMA</span> &lt;模式名&gt;[<span class="keyword">CASCADE</span>|RESTRICT]</div></pre></td></tr></table></figure>
<p><strong><code>CASCADE</code></strong>（级联）方式：执行DROP语句时，把SQL模式及其下属的基本表、视图、索引等所有元素全部删除。</p>
<p><strong><code>RESTRICT</code></strong>（限制）方式：执行DROP语句时，只有当SQL模式中没有任何下属元素时，才能删除SQL模式。</p>
<h4 id="2-基本表的创建"><a href="#2-基本表的创建" class="headerlink" title="(2)基本表的创建"></a>(2)基本表的创建</h4><p>SQL使用<code>CREAT TABLE</code>语句定义基本表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &lt;表名&gt;(&lt;列定义&gt;[&#123;,&lt;列定义&gt;,&lt;完整性约束&gt;&#125;])</div></pre></td></tr></table></figure>
<p>例如</p>
<p>例如：建立一个学生基本表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> S  ( S#  <span class="built_in">CHAR</span>(<span class="number">4</span>),</div><div class="line">                  SN  <span class="built_in">CHAR</span>(<span class="number">8</span>),</div><div class="line">                  AGE  <span class="built_in">SMALLINT</span>,</div><div class="line">                SEX <span class="built_in">CHAR</span>(<span class="number">2</span>)  <span class="keyword">DEFAULT</span>’男‘,</div><div class="line">              DEPT <span class="built_in">CHAR</span>(<span class="number">2</span>));</div></pre></td></tr></table></figure>
<h3 id="3-什么是唯一索引？聚簇索引？定义索引的SQL语句是什么？理解聚簇索引的作用及使用时应注意的问题。"><a href="#3-什么是唯一索引？聚簇索引？定义索引的SQL语句是什么？理解聚簇索引的作用及使用时应注意的问题。" class="headerlink" title="3.什么是唯一索引？聚簇索引？定义索引的SQL语句是什么？理解聚簇索引的作用及使用时应注意的问题。"></a>3.什么是唯一索引？聚簇索引？定义索引的SQL语句是什么？理解聚簇索引的作用及使用时应注意的问题。</h3><h4 id="1-唯一索引"><a href="#1-唯一索引" class="headerlink" title="(1)唯一索引"></a>(1)唯一索引</h4><p><strong><code>unique</code>（distinct）</strong>：唯一性索引，不允许表在索引列不同的行取相同值。若已有相同值存在，则系统给出相关信息，不建此索引。系统并拒绝违背唯一性的插入、更新。</p>
<h4 id="2-聚簇索引"><a href="#2-聚簇索引" class="headerlink" title="(2)聚簇索引"></a>(2)聚簇索引</h4><p><strong><code>cluster</code></strong>：聚簇索引，将数据行的键值在表内排序并存储对应的数据记录，使得数据表<strong>记录的物理顺序与索引项的顺序一致</strong>。当以某字段作为关键字建立聚集索引时，表中数据以该字段作为排序根据。因此，一个表只能建立一个聚集索引，但该索引可以包含多个列（组合索引）</p>
<p>经常更新的列不宜建立聚簇索引。</p>
<h4 id="3-定义索引"><a href="#3-定义索引" class="headerlink" title="(3)定义索引"></a>(3)定义索引</h4><p>在SQL语言中，建立索引使用CREATE INDEX语句，其格式一般为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>] [CLUSTER] <span class="keyword">INDEX</span> &lt;索引名&gt; <span class="keyword">ON</span> &lt;表名&gt;(&lt;列名&gt;[&#123;,&lt;列名&gt;&#125;])</div></pre></td></tr></table></figure>
<h4 id="4-聚簇索引的作用及使用时应注意的问题"><a href="#4-聚簇索引的作用及使用时应注意的问题" class="headerlink" title="(4)聚簇索引的作用及使用时应注意的问题"></a>(4)聚簇索引的作用及使用时应注意的问题</h4><p>作用：提高某个属性（属性组）的查询速度。</p>
<p>注意：经常更新的列不宜建立聚簇索引。</p>
<h3 id="4-数据的查询与更新。-Select（单表查询、条件表示、聚集函数；连接、存在谓词、嵌套、集合查询等），insert-、delete-、update。"><a href="#4-数据的查询与更新。-Select（单表查询、条件表示、聚集函数；连接、存在谓词、嵌套、集合查询等），insert-、delete-、update。" class="headerlink" title="4.数据的查询与更新。  Select（单表查询、条件表示、聚集函数；连接、存在谓词、嵌套、集合查询等），insert 、delete 、update。"></a>4.数据的查询与更新。  Select（单表查询、条件表示、聚集函数；连接、存在谓词、嵌套、集合查询等），insert 、delete 、update。</h3><h4 id="1-单表查询和条件查询"><a href="#1-单表查询和条件查询" class="headerlink" title="(1)单表查询和条件查询"></a>(1)单表查询和条件查询</h4><p>单表查询是指仅涉及一个表的查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> S#,AGE,SEX,… <span class="keyword">FROM</span> S</div></pre></td></tr></table></figure>
<h5 id="选择列"><a href="#选择列" class="headerlink" title="选择列"></a>选择列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查询制定列</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查询全部列</div><div class="line"><span class="keyword">SELECT</span> *</div><div class="line"><span class="keyword">FROM</span> Student;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查询算术表达式计算的值</div><div class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2014</span>-Sage</div><div class="line"><span class="keyword">FROM</span> Student;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查询函数计算的值</div><div class="line"><span class="keyword">SELECT</span> Sname,<span class="keyword">LOWER</span>(Sdept)</div><div class="line"><span class="keyword">FROM</span> Student;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">改变查询结果的列标题</div><div class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2014</span>-Sage BIRTHDAY</div><div class="line"><span class="keyword">FROM</span> Student;</div></pre></td></tr></table></figure>
<h5 id="选择行"><a href="#选择行" class="headerlink" title="选择行"></a>选择行</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">消除取值重复的行</div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno</div><div class="line"><span class="keyword">FROM</span> SC;</div><div class="line">若无指定DISTINCT,则默认为ALL,等价于</div><div class="line"><span class="keyword">SELECT</span> ALL Sno</div><div class="line"><span class="keyword">FROM</span> SC;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">查询满足条件的行</div><div class="line">1.比较大小</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student</div><div class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'CS'</span>;</div><div class="line">2.确定范围</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student</div><div class="line"><span class="keyword">WHERE</span> Sage <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span>;</div><div class="line">3.确定集合</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student</div><div class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span>(<span class="string">'CS'</span>,<span class="string">'MA'</span>,<span class="string">'IS'</span>);</div><div class="line">4.涉及空值的查询</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student</div><div class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IS</span> <span class="literal">NULL</span>;</div></pre></td></tr></table></figure>
<h5 id="ORDER-BY子句-升序-ASC-降序-DESC"><a href="#ORDER-BY子句-升序-ASC-降序-DESC" class="headerlink" title="ORDER BY子句(升序 ASC 降序 DESC)"></a>ORDER BY子句(升序 ASC 降序 DESC)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">按学号降序查询</div><div class="line"><span class="keyword">SELECT</span> Sno,Sname</div><div class="line"><span class="keyword">FROM</span> Student</div><div class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Sno <span class="keyword">DESC</span>;</div></pre></td></tr></table></figure>
<h4 id="2-聚集函数"><a href="#2-聚集函数" class="headerlink" title="(2)聚集函数"></a>(2)聚集函数</h4><table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">COUNT([DISTINCT\</td>
<td style="text-align:center">ALL] &lt;列名&gt;)</td>
<td>统计一列中值的个数</td>
</tr>
<tr>
<td style="text-align:center">SUM([DISTINCT\</td>
<td style="text-align:center">ALL] &lt;列名&gt;)</td>
<td>计算一列值的总和（此列必须是数值型）</td>
</tr>
<tr>
<td style="text-align:center">AVG([DISTINCT\</td>
<td style="text-align:center">ALL] &lt;列名&gt;)</td>
<td>计算一列值的平均值（此列必须是数值型）</td>
</tr>
<tr>
<td style="text-align:center">MAX([DISTINCT\</td>
<td style="text-align:center">ALL] &lt;列名&gt;)</td>
<td>求一列值中的最大值</td>
</tr>
<tr>
<td style="text-align:center">MIN([DISTINCT\</td>
<td style="text-align:center">ALL] &lt;列名&gt;)</td>
<td>求一列值中的最小值</td>
</tr>
<tr>
<td style="text-align:center">COUNT([DISTINCT\</td>
<td style="text-align:center">ALL] *)</td>
<td>统计元组个数</td>
</tr>
</tbody>
</table>
<h4 id="3-连接"><a href="#3-连接" class="headerlink" title="(3)连接"></a>(3)连接</h4><p>在查询中，同时涉及两个或两个以上的表，要根据表中数据的情况作连接。</p>
<p>连接查询包括：</p>
<ul>
<li>等值连接</li>
<li>自身连接</li>
<li>外连接</li>
</ul>
<h5 id="1）等值连接"><a href="#1）等值连接" class="headerlink" title="1）等值连接"></a>1）等值连接</h5><p>示例：查询学习课程名为‘MATHS’的学生学号和姓名。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span>   s.sno,sname </div><div class="line"><span class="keyword">from</span>    s,sc,c  </div><div class="line"><span class="keyword">where</span>  s.sno=sc.sno <span class="keyword">and</span> sc.cno=c.cno</div><div class="line"><span class="keyword">and</span> cname=<span class="string">'MATHS'</span>;</div></pre></td></tr></table></figure>
<h5 id="2-自连接"><a href="#2-自连接" class="headerlink" title="2)自连接"></a>2)自连接</h5><p>一个表与其自身进行的连接</p>
<p>示例：检索每一门课的间接先修课</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> A.CNO,B.CPNO </div><div class="line"><span class="keyword">FROM</span>  (COURSE A, COURSE B)</div><div class="line"><span class="keyword">WHERE</span>  A.CPNO=B.CNO</div></pre></td></tr></table></figure>
<h5 id="3）外连接"><a href="#3）外连接" class="headerlink" title="3）外连接"></a>3）外连接</h5><p>在通常的连接操作中，只有满足条件的元组才能作为结果输出。但是有时想以Student表作为主体列出所有学生的选课情况，若某个学生没有选课，则仍<strong>把Student作为悬浮元组保存在结果关系中</strong>。</p>
<p>示例</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> student.*,SC.Cno,SC.Grade</div><div class="line"><span class="keyword">FROM</span> student <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (student.sno=SC.sno);</div></pre></td></tr></table></figure>
<p>去除重复元素</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> student.*,SC.Cno,SC.Grade</div><div class="line"><span class="keyword">FROM</span> student <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> SC <span class="keyword">USING</span>(Sno);</div></pre></td></tr></table></figure>
<h4 id="4-嵌套查询"><a href="#4-嵌套查询" class="headerlink" title="(4)嵌套查询"></a>(4)嵌套查询</h4><p>Select在一个select语句的where子句中，又出现了另一个select语句，这种查询称为嵌套查询。子查询中还可以嵌入子查询。 </p>
<h5 id="in-子查询"><a href="#in-子查询" class="headerlink" title="in 子查询"></a>in 子查询</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span>    SNO,SNAME</div><div class="line"><span class="keyword">from</span>     S</div><div class="line"><span class="keyword">where</span>   SNO   <span class="keyword">in</span></div><div class="line">  (<span class="keyword">select</span>    SNO</div><div class="line">  <span class="keyword">from</span>     SC</div><div class="line">  <span class="keyword">where</span>   CNO = <span class="string">'C1'</span>);</div></pre></td></tr></table></figure>
<h5 id="any-all子查询"><a href="#any-all子查询" class="headerlink" title="any/all子查询"></a>any/all子查询</h5><p><code>ANY</code> ：表达式的值<u>至少与子查询结果中的<strong>一个</strong>值</u>相比能满足比较运算符 。</p>
<p><code>ALL</code>：表达式的值<u>与子查询结果中的<strong>所有</strong>的值</u>相比都满足比较运算符。</p>
<p>示例：检索至少有一门成绩超过学生S4一门成绩的学生学号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">distinct</span> sno <span class="keyword">FROM</span> SC </div><div class="line"><span class="keyword">WHERE</span> grade &gt;<span class="keyword">any</span> </div><div class="line">   (<span class="keyword">SELECT</span> grade <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> sno=<span class="string">'S4'</span>)</div><div class="line"><span class="keyword">AND</span> sno&lt;&gt;<span class="string">'S4'</span></div></pre></td></tr></table></figure>
<p>示例：检索<strong>平均成绩最高</strong>的学生学号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> SNO</div><div class="line"><span class="keyword">from</span> SC</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> SNO</div><div class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(GRADE) &gt;=  all</div><div class="line">        (<span class="keyword">select</span> <span class="keyword">avg</span>(GRADE)</div><div class="line">           <span class="keyword">from</span> SC</div><div class="line">           <span class="keyword">group</span> <span class="keyword">by</span> SNO);</div></pre></td></tr></table></figure>
<h5 id="exists查询"><a href="#exists查询" class="headerlink" title="exists查询"></a>exists查询</h5><p>带有EXISTS谓词的子查询不返回任何实际数据，它只产生逻辑真值“true”或逻辑假值“false”。</p>
<p>示例：列出选修了1号课程的学生的学号及姓名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span>    SNO,SNAME</div><div class="line"><span class="keyword">from</span>     S     </div><div class="line"><span class="keyword">where</span>   <span class="keyword">exists</span> </div><div class="line">     (<span class="keyword">select</span>   *   <span class="keyword">from</span>   SC</div><div class="line">         <span class="keyword">where</span>  SNO = S.SNO  <span class="keyword">and</span>  CNO = <span class="string">'1'</span>)</div></pre></td></tr></table></figure>
<p>示例：检索男生中不学C2课程的学生姓名。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> s </div><div class="line"><span class="keyword">where</span> s.sex=<span class="string">'M'</span> <span class="keyword">and</span>  <span class="keyword">not</span>  <span class="keyword">exists</span></div><div class="line">(<span class="keyword">select</span> * <span class="keyword">from</span> sc <span class="keyword">where</span> s.sno=sc.sno <span class="keyword">and</span> cno=<span class="string">'C2'</span>)</div></pre></td></tr></table></figure>
<p><code>not  exists</code>–当集合为空，值为true，否则为false</p>
<h4 id="5-集合查询"><a href="#5-集合查询" class="headerlink" title="(5)集合查询"></a>(5)集合查询</h4><p><code>Select</code>语句的结果是一个元组的集合，多个Select语句的结果可以进行集合操作</p>
<ul>
<li>属性个数必须一致</li>
<li>对应的类型必须一致</li>
<li>属性名无关，最后结果集采用第一个结果的属性名</li>
<li>缺省为自动去除重复元组</li>
<li>只能在整个语句的最后使用一次<code>OrderBy</code></li>
</ul>
<p>集合并： <code>union</code> </p>
<p>集合交：<code>intersect</code></p>
<p>集合差：<code>except</code>  </p>
<p>示例：查询姓“张”的学生及年龄不大于19岁的学生(按年龄排序)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Select</span> sno,sname <span class="keyword">as</span> <span class="keyword">Name</span> ,age</div><div class="line">    <span class="keyword">From</span> S</div><div class="line">    <span class="keyword">Where</span> sname    <span class="keyword">like</span>     <span class="string">'张%'</span></div><div class="line"> <span class="keyword">Union</span></div><div class="line">    <span class="keyword">Select</span> sno,sname,age</div><div class="line">    <span class="keyword">From</span> S</div><div class="line">    <span class="keyword">Where</span> age &lt;=<span class="number">19</span></div><div class="line">    <span class="keyword">Order</span> <span class="keyword">By</span> age;</div></pre></td></tr></table></figure>
<p>示例：求选修了001或002号而没有选003号课程的学生号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">（<span class="keyword">select</span>     SNO</div><div class="line">         <span class="keyword">from</span>       SC</div><div class="line">             <span class="keyword">where</span>     CNO = ‘C1’  <span class="keyword">or</span>  CNO = ‘C2’ ）</div><div class="line">    <span class="keyword">except</span></div><div class="line">（<span class="keyword">select</span>     SNO</div><div class="line">       <span class="keyword">from</span>       SC</div><div class="line">             <span class="keyword">where</span>     CNO = ‘C3’）</div></pre></td></tr></table></figure>
<h4 id="5-INSERT"><a href="#5-INSERT" class="headerlink" title="(5)INSERT"></a>(5)INSERT</h4><p>插入单个元组的INSERT语句的格式为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span></div><div class="line"><span class="keyword">INTO</span> &lt;表名&gt; [(&lt;属性列<span class="number">1</span>&gt;[,&lt;属性列<span class="number">2</span>&gt;...)]</div><div class="line"><span class="keyword">VALUES</span> (&lt;常量<span class="number">1</span>&gt; [,&lt;常量<span class="number">2</span>&gt;]...)</div></pre></td></tr></table></figure>
<p>示例：插入一条数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Insert</span>  <span class="keyword">Into</span>  S</div><div class="line">  <span class="keyword">Values</span> (<span class="string">'s8'</span>,<span class="string">'张三'</span>,<span class="number">21</span>,<span class="string">'M'</span>,<span class="string">'JSJ'</span>)</div></pre></td></tr></table></figure>
<p>示例：插入子查询结果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span>    s_grade(sno,avg_grade)</div><div class="line"><span class="keyword">SELECT</span> sno,<span class="keyword">avg</span>(grade)</div><div class="line"><span class="keyword">FROM</span> SC </div><div class="line"><span class="keyword">WHERE</span> sno <span class="keyword">IN</span></div><div class="line">   (<span class="keyword">SELECT</span> sno <span class="keyword">FROM</span> S <span class="keyword">WHERE</span> sex=<span class="string">'M'</span>)</div><div class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> sno </div><div class="line">    <span class="keyword">HAVING</span> <span class="keyword">avg</span>(grade)&gt;<span class="number">80</span></div></pre></td></tr></table></figure>
<h4 id="6-UPADTE"><a href="#6-UPADTE" class="headerlink" title="(6)UPADTE"></a>(6)UPADTE</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">update</span> 表名  </div><div class="line"><span class="keyword">set</span>    列名 = 表达式 | 子查询</div><div class="line">     列名 = [，表达式 | 子查询]…</div><div class="line">     [<span class="keyword">where</span>  条件表达式]</div></pre></td></tr></table></figure>
<p>示例：将S1学生转入CS系</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Update</span> S</div><div class="line"><span class="keyword">Set</span>  dept = ‘CS<span class="string">'</span></div><div class="line">Where sno = 'S1‘</div></pre></td></tr></table></figure>
<p>示例：所有学生年龄加1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Update</span> S</div><div class="line"><span class="keyword">Set</span>  age = age + <span class="number">1</span></div></pre></td></tr></table></figure>
<p>示例：(带子查询的修改)将计算机系全体学生的成绩置零。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Update</span> SC</div><div class="line"><span class="keyword">Set</span> grade =<span class="number">0</span></div><div class="line"><span class="keyword">Where</span>  <span class="string">'CS‘=(Select Sdept</span></div><div class="line">              From Student</div><div class="line">              Where Student.Sno=SC.Sno)</div></pre></td></tr></table></figure>
<h4 id="7-DELETE"><a href="#7-DELETE" class="headerlink" title="(7)DELETE"></a>(7)DELETE</h4><p>DELETE语句的功能是从指定表中删除满足</p>
<p>WHERE子句条件的所有元组。如果省略WHERE子句，表示删除表中全部元组，但表的定义仍在字典中。也就是说，DELETE语句删除的是表中的数据，而不是关于表的定义。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DELETE</span></div><div class="line"><span class="keyword">FROM</span> &lt;表名&gt;</div><div class="line">[<span class="keyword">WHERE</span> &lt;条件&gt;]</div></pre></td></tr></table></figure>
<h3 id="5-判断相关子查询？不相关子查询？"><a href="#5-判断相关子查询？不相关子查询？" class="headerlink" title="5.判断相关子查询？不相关子查询？"></a>5.判断相关子查询？不相关子查询？</h3><h4 id="相关子查询"><a href="#相关子查询" class="headerlink" title="相关子查询"></a>相关子查询</h4><p>子查询的查询条件依赖于父查询</p>
<p>示例：找出每个学生超过她自己选修课程平均成绩的课程号</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span>    SNO,Cno</div><div class="line"><span class="keyword">from</span>     SC x</div><div class="line"><span class="keyword">where</span>   Grade   &gt;=  </div><div class="line">  (<span class="keyword">select</span>    <span class="built_in">AVG</span>(SNO)</div><div class="line">  <span class="keyword">from</span>     SC y</div><div class="line">  <span class="keyword">where</span>   y.sno=s.sno;</div></pre></td></tr></table></figure>
<p>内层查询是求一个学生的平均成绩，至于哪个学生的平均成绩还要看x.Sno的值，而该值是与父查询相关的。</p>
<h4 id="不相关子查询"><a href="#不相关子查询" class="headerlink" title="不相关子查询"></a>不相关子查询</h4><p>子查询的查询条件不依赖于父查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span>    SNO,SNAME</div><div class="line"><span class="keyword">from</span>     Student</div><div class="line"><span class="keyword">where</span>   SNO   <span class="keyword">in</span></div><div class="line">  (<span class="keyword">select</span>    SNO</div><div class="line">  <span class="keyword">from</span>     SC</div><div class="line">  <span class="keyword">where</span>   CNO = <span class="string">'C1'</span>);</div></pre></td></tr></table></figure>
<h3 id="6-空值的性质、有关处理"><a href="#6-空值的性质、有关处理" class="headerlink" title="6.空值的性质、有关处理"></a>6.空值的性质、有关处理</h3><p>空值就是“不知道”或“不存在”或“无意义”的值，取空值一般有以下情况：</p>
<ul>
<li>该属性应该有一个值，但目前不知道它具体的值。如漏填的年龄</li>
<li>该属性不应该有值。如缺考考生的成绩</li>
<li>由于某种原因不便于填写，如不想让其他人知道的电话号码</li>
</ul>
<ol>
<li>空值产生</li>
</ol>
<p>插入数据时，没有赋值的属性产生空值，修改数据为空也产生空值</p>
<ol>
<li>空值判断</li>
</ol>
<p>判断一个属性是否为空，用<code>IS NULL</code> 或 <code>IS NOT NULL</code>来判断</p>
<ol>
<li>空值的约束条件</li>
</ol>
<p>属性定义中有<code>NOT NULL</code>约束条件不能取空值，加了<code>UNIQUE</code>限制的不能取空值，码属性不能取空值</p>
<ol>
<li>空值的算数运算、比较运算和逻辑运算</li>
</ol>
<p>空值与空值算数运算结果为空</p>
<p>空值与另一个值比较结果为<code>UNKNOWN</code></p>
<h3 id="7-视图的定义、查询等语句"><a href="#7-视图的定义、查询等语句" class="headerlink" title="7.视图的定义、查询等语句"></a>7.视图的定义、查询等语句</h3><p>是从基本表(或其他视图)中导出的虚表(结果集)</p>
<h4 id="定义视图"><a href="#定义视图" class="headerlink" title="定义视图"></a>定义视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Create</span> <span class="keyword">View</span> CS_Stu</div><div class="line">      <span class="keyword">as</span></div><div class="line">      <span class="keyword">Select</span> sno,sname,ssex</div><div class="line">      <span class="keyword">From</span> Student</div><div class="line">      <span class="keyword">Where</span> sdept = ‘CS’</div><div class="line">      <span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">OPTION</span></div></pre></td></tr></table></figure>
<p>其中，子查询可以是任意<code>SELECT</code>语句</p>
<p>在定义视图时加上<code>WITH CHECK OPTION</code>子句，以后对该视图进行插入、修改和删除操作时，关系数据库系统会自动加上<code>sdept = ‘CS’</code>的条件。</p>
<p>视图不仅可以建立在一个或多个基本表上，也可以在一个或多个已定义好的视图上，或建立在基本表与视图上</p>
<h4 id="查询视图"><a href="#查询视图" class="headerlink" title="查询视图"></a>查询视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Select</span> sno,sname</div><div class="line"><span class="keyword">From</span> CS_Stu</div><div class="line"><span class="keyword">Where</span> ssex = ‘M’</div></pre></td></tr></table></figure>
<p>视图定义好后，查询操作和基本表一样</p>
<h3 id="8-视图作用"><a href="#8-视图作用" class="headerlink" title="8.视图作用"></a>8.视图作用</h3><h4 id="1-视图能够简化用户操作"><a href="#1-视图能够简化用户操作" class="headerlink" title="(1)视图能够简化用户操作"></a>(1)视图能够简化用户操作</h4><p>用户可以将注意力集中在所关心的数据上，定义的视图可以使数据库看起来结构简单、清晰，并且可以简化用户的数据查询操作。</p>
<h4 id="2-视图能够使用户能以多种角度看待同一数据"><a href="#2-视图能够使用户能以多种角度看待同一数据" class="headerlink" title="(2)视图能够使用户能以多种角度看待同一数据"></a>(2)视图能够使用户能以多种角度看待同一数据</h4><p>视图机制能够使用户能以不同方式看待同一数据，当许多不同种类用户共享同一数据库时，这种灵活性十分重要。</p>
<h4 id="3-视图对重构数据库提供了一定程度的逻辑独立性"><a href="#3-视图对重构数据库提供了一定程度的逻辑独立性" class="headerlink" title="(3)视图对重构数据库提供了一定程度的逻辑独立性"></a>(3)视图对重构数据库提供了一定程度的逻辑独立性</h4><p>当数据库的逻辑结构改变时，应用程序不必修改，因为新建立的视图定义为用户原来的关系，使用户的外模式保持不变，用户的应用程序通过视图仍然能查找数据</p>
<h4 id="4-视图能对机密数据提供保护"><a href="#4-视图能对机密数据提供保护" class="headerlink" title="(4)视图能对机密数据提供保护"></a>(4)视图能对机密数据提供保护</h4><p>对不同的用户定义不同的视图，使机密数据不出现在不应该看到这些数据的用户视图上。</p>
<h4 id="5-适当的利用视图可以更清晰的表达查询"><a href="#5-适当的利用视图可以更清晰的表达查询" class="headerlink" title="(5)适当的利用视图可以更清晰的表达查询"></a>(5)适当的利用视图可以更清晰的表达查询</h4><h3 id="9-如何用视图实现安全保护，举例"><a href="#9-如何用视图实现安全保护，举例" class="headerlink" title="9.如何用视图实现安全保护，举例"></a>9.如何用视图实现安全保护，举例</h3><p>对不同的用户定义不同的视图，使机密数据不出现在不应该看到这些数据的用户视图上。例如Student表设计全校15个院系的学生数据，可以在其上定义15个视图，每一个视图只包含一个院系的学生数据，只允许每个院系的主人查询和修改本院系的学生视图。</p>
<h2 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h2><h3 id="1-什么是数据库的安全性"><a href="#1-什么是数据库的安全性" class="headerlink" title="1.什么是数据库的安全性"></a>1.什么是数据库的安全性</h3><p>数据库安全性是指保护数据库以防止不合法使用所造成的<strong>数据泄漏</strong>、<strong>更改</strong>或<strong>破坏</strong></p>
<h3 id="2-有几种安全控制策略"><a href="#2-有几种安全控制策略" class="headerlink" title="2.有几种安全控制策略"></a>2.有几种安全控制策略</h3><ul>
<li>用户标识和鉴定</li>
<li>多层存取控制</li>
<li>视图</li>
<li>审计</li>
<li>数据加密</li>
</ul>
<h3 id="3-控制（授权等）语句的定义和作用"><a href="#3-控制（授权等）语句的定义和作用" class="headerlink" title="3.控制（授权等）语句的定义和作用"></a>3.控制（授权等）语句的定义和作用</h3><h4 id="1-授权"><a href="#1-授权" class="headerlink" title="(1)授权"></a>(1)授权</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">grant</span> 表级权限 <span class="keyword">on</span> &#123;表名 | 视图名&#125;</div><div class="line"> <span class="keyword">to</span>  &#123;用户 [，用户]… | <span class="keyword">public</span>&#125;</div><div class="line">         <span class="keyword">with</span> <span class="keyword">grant</span> <span class="keyword">option</span></div></pre></td></tr></table></figure>
<p>语义为对制定操作对象的制定操作权限授予制定用户</p>
<p>发出<code>GRANT</code>语句的可以是数据库管理员，也可以是数据库对象创建者</p>
<p>如果指定了<code>with grant option</code>子句，则获得某种权限的用户还可以把这种权限再授予其他用户，反之则不能传播该权限。</p>
<p>示例：把查询Student表的权限授予给用户U1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span></div><div class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> Student</div><div class="line"><span class="keyword">TO</span> U1</div></pre></td></tr></table></figure>
<h4 id="2-回收"><a href="#2-回收" class="headerlink" title="(2)回收"></a>(2)回收</h4><p>授予用户的权限可以由管理员或其他授权者用<code>REVOKE</code>语句收回，一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">revoke</span> 表级权限 <span class="keyword">on</span> &#123;表名 | 视图名&#125;</div><div class="line"> <span class="keyword">from</span>  &#123;用户 [，用户]… | <span class="keyword">public</span>&#125;</div></pre></td></tr></table></figure>
<p>示例：把用户U1查询Student表的权限收回</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">REVOKE</span> <span class="keyword">SELECT</span></div><div class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> Student</div><div class="line"><span class="keyword">FROM</span> U1 <span class="keyword">CASCADE</span></div></pre></td></tr></table></figure>
<p>将用户U1权限收回的同时，由于U1将权限赋给了U2，因此级联<code>CASCADE</code>收回了U2的权限。</p>
<h3 id="4-有哪两种存取控制方法，主体和客体指的是什么"><a href="#4-有哪两种存取控制方法，主体和客体指的是什么" class="headerlink" title="4.有哪两种存取控制方法，主体和客体指的是什么"></a>4.有哪两种存取控制方法，主体和客体指的是什么</h3><p> 存取控制方法分为<strong>自主存取控制</strong>和<strong>强制存取控制</strong></p>
<p>在强制存取控制中，数据库管理系统所管理的全部实体被分为实体和客体两大类。</p>
<p><strong>主体</strong>是系统中的活动实体，既包括数据库管理系统所包括的实际用户，也包括代表用户的各种进程。<strong>客体</strong>是系统中的被动实体，是受主体操作的，包括文件、基本表、索引、视图等。</p>
<h2 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h2><h3 id="1-什么是数据库的完整性"><a href="#1-什么是数据库的完整性" class="headerlink" title="1.什么是数据库的完整性"></a>1.什么是数据库的完整性</h3><p>数据库的完整性是指数据的<strong>正确性</strong>和<strong>相容性</strong>。正确性是指数据是符合现实世界语义、反应当前实际状况的；数据的相容性是指数据库同一对象在不同关系表中的数据是符合逻辑的。</p>
<h3 id="2-为维护数据库的完整性，数据库管理系统必须能实现哪三种功能"><a href="#2-为维护数据库的完整性，数据库管理系统必须能实现哪三种功能" class="headerlink" title="2.为维护数据库的完整性，数据库管理系统必须能实现哪三种功能"></a>2.为维护数据库的完整性，数据库管理系统必须能实现哪三种功能</h3><ol>
<li>提供定义完整性约束条件的机制</li>
<li>提供完整性检查方法</li>
<li>提供违约处理</li>
</ol>
<h3 id="3-删除被参照关系的元组时可能采取哪三种作法？修改被参照关系中的主码时可能采取哪三种作法？"><a href="#3-删除被参照关系的元组时可能采取哪三种作法？修改被参照关系中的主码时可能采取哪三种作法？" class="headerlink" title="3.删除被参照关系的元组时可能采取哪三种作法？修改被参照关系中的主码时可能采取哪三种作法？"></a>3.删除被参照关系的元组时可能采取哪三种作法？修改被参照关系中的主码时可能采取哪三种作法？</h3><p>删除被参照关系的元组或修改了主码值，可以通过拒绝执行、级联删除和设置为空值3种方法</p>
<h3 id="4-掌握SQL-Server中的实体和参照完整性的语句格式，并会应用。SQL-Server中可以定义几种约束。"><a href="#4-掌握SQL-Server中的实体和参照完整性的语句格式，并会应用。SQL-Server中可以定义几种约束。" class="headerlink" title="4.掌握SQL Server中的实体和参照完整性的语句格式，并会应用。SQL Server中可以定义几种约束。"></a>4.掌握SQL Server中的实体和参照完整性的语句格式，并会应用。SQL Server中可以定义几种约束。</h3><p><strong>PRIMARY KEY</strong>约束</p>
<p><strong>DEFAULT</strong>约束</p>
<p><strong>CHECK</strong>约束</p>
<p><strong>UNIQUE</strong>约束</p>
<p><strong>FOREIGN KEY</strong>约束</p>
<h3 id="5-创建触发器的SQL语句"><a href="#5-创建触发器的SQL语句" class="headerlink" title="5.创建触发器的SQL语句"></a>5.创建触发器的SQL语句</h3><p>触发器（Trigger）是用户定义在关系表上的一类由<strong>事件驱动</strong>的特殊过程</p>
<p>触发器保存在数据库服务器中</p>
<p>任何用户对表的增、删、改操作均由服务器自动激活相应的触发器</p>
<p>触发器可以实施更为复杂的检查和操作，具有更精细和更强大的数据控制能力</p>
<p>触发器又叫做事件-条件-动作（event-condition-action）规则。当特定的系统事件发生时，对规则的条件进行检查，如果条件成立则执行规则中的动作，否则不执行该动作。规则中的动作体可以很复杂，通常是一段SQL存储过程。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> [OWNER.]TRIGGER_NAME</div><div class="line"><span class="keyword">ON</span> &#123;[OWNER].TABLE_NAME|<span class="keyword">VIEW</span>&#125;</div><div class="line">   &#123; <span class="keyword">FOR</span> | <span class="keyword">AFTER</span> | INSTEAD <span class="keyword">OF</span> &#125; &#123;<span class="keyword">INSERT</span>|<span class="keyword">UPDATE</span>|<span class="keyword">DELETE</span>&#125;</div><div class="line">   <span class="keyword">AS</span></div><div class="line">   SQL_Statements</div></pre></td></tr></table></figure>
<p><code>TRIGGER_NAME</code>：触发器名称</p>
<p><code>ON TABLE_NAME</code>：触发动作相关联的表</p>
<p><code>AFTER或FOR</code>：触发器在操作(如INSERT)执行后被激发 </p>
<p><code>INSTEAD OF</code>：执行触发器而不是执行触发SQL语句(即INSERT等)，从而替代触发语句的操作 </p>
<p><code>INSERT|UPDATE|DELETE</code>：指定在发生哪一种数据动作时被触发</p>
<p><code>SQL_Statements</code>：触发器执行的SQL语句</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第一章&quot;&gt;&lt;a href=&quot;#第一章&quot; class=&quot;headerlink&quot; title=&quot;第一章&quot;&gt;&lt;/a&gt;第一章&lt;/h2&gt;&lt;h3 id=&quot;1-什么是数据库？数据库数据有哪三个基本特点？&quot;&gt;&lt;a href=&quot;#1-什么是数据库？数据库数据有哪三个基本特点？&quot; class=&quot;headerlink&quot; title=&quot;1.什么是数据库？数据库数据有哪三个基本特点？&quot;&gt;&lt;/a&gt;1.什么是数据库？数据库数据有哪三个基本特点？&lt;/h3&gt;&lt;p&gt;数据库是长期储存在计算机内，有组织，可共享的大量数据集合。数据库中的数据按一定的数据模型组织、描述和储存，具有&lt;strong&gt;较小的冗余度&lt;/strong&gt;、&lt;strong&gt;较高的数据独立性&lt;/strong&gt;和&lt;strong&gt;易扩展性&lt;/strong&gt;，并可为各种用户共享&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>连接池介绍--C3P0连接池</title>
    <link href="http://yoursite.com/2017/05/29/JAVA%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BB%8B%E7%BB%8D-C3P0%E8%BF%9E%E6%8E%A5%E6%B1%A0/"/>
    <id>http://yoursite.com/2017/05/29/JAVA连接池介绍-C3P0连接池/</id>
    <published>2017-05-29T11:20:44.000Z</published>
    <updated>2017-05-29T13:12:22.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>​    初学JDBC技术来连接数据库时，每一次连接DBMS都需要很繁琐的执行以下步骤：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1.加载驱动</span></div><div class="line">Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</div><div class="line"><span class="comment">//2.连接数据库URL</span></div><div class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/test?"</span>  +<span class="string">"user=root&amp;password=root"</span>;</div><div class="line"><span class="comment">//3.获取数据库连接</span></div><div class="line">conn = DriverManager.getConnection(url);</div></pre></td></tr></table></figure>
<p>​    不论是一次小小的查询还是添加一条记录，你都得老老实实的按这三步走（加载驱动，连接数据库URL,获取数据库连接）。然而当系统变得复杂了，数据库的操作更加频繁，系统的性能也会随之下降。<br><a id="more"></a></p>
<p>​    有句话说“<strong>数据库连接很昂贵</strong>”。每一次创建一个数据库连接，他的内部都会执行着：</p>
<blockquote>
<ol>
<li><p>“DriverManager”检查并注册驱动程序。</p>
</li>
<li><p>在驱动程序类中调用“connect(url…)”方法。</p>
</li>
<li><p>connect方法根据我们请求的“connUrl”，创建一个“Socket连接”，连接到IP为“your.database.domain”，默认端口3306的数据库。</p>
</li>
<li><p>创建的Socket连接将被用来查询我们指定的数据库，并最终让程序返回得到一个结果。 </p>
</li>
</ol>
<p>​  有时数据库连接所耗费的时间甚至大于执行查询操作所花费的时间，如果有一种方法，能够预先加载好一些连接对象，每当要执行数据库操作时，无需重新建立连接，只需使用预先加载好的一个连接对象，那么系统的性能将会大大的提高。</p>
</blockquote>
<p><strong>连接池就是为解决这类问题存在的。</strong> </p>
<h1 id="连接池"><a href="#连接池" class="headerlink" title="连接池"></a>连接池</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>数据库连接池负责分配、管理和释放数据库连接，它<strong>允许应用程序重复使用一个现有的数据库连接，而不是再重新建立一个</strong>；释放空闲时间超过最大空闲时间的数据库连接来避免因为没有释放数据库连接而引起的数据库连接遗漏。这项技术能明显提高对数据库操作的性能。</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>简单的说，连接池就是为数据库连接建立一个“缓冲池”。预先在缓冲池中放入一定数量的连接，当需要建立数据库连接时，只需从“缓冲池”中取出一个，使用完毕之后再放回去。</p>
<p>于是，通过连接池，我们只要在系统启动时预先加载好一些连接对象，当需要的时候再也不需要繁琐的步骤，现成的给你准备好啦，拿了就用，用完了放回去下次再接着用，系统加载的速度会变快，性能也会随之增加了。</p>
<h2 id="几种主流的java连接池"><a href="#几种主流的java连接池" class="headerlink" title="几种主流的java连接池"></a>几种主流的java连接池</h2><h3 id="C3P0连接池"><a href="#C3P0连接池" class="headerlink" title="C3P0连接池"></a>C3P0连接池</h3><p>C3P0是一个开源的JDBC连接池，它实现了数据源和JNDI绑定，支持JDBC3规范和JDBC2的标准扩展。c3p0是异步操作的，缓慢的JDBC操作通过帮助进程完成。扩展这些操作可以有效的提升性能。目前使用它的开源项目有hibernate，spring等。是一个成熟的、高并发的JDBC连接池库，用于缓存和重用PreparedStatements支持。c3p0具有自动回收空闲连接功能。</p>
<p><strong>主要特性：</strong>1、编码的简单易用。2、连接的复用。3、连接的管理</p>
<h3 id="DBCP"><a href="#DBCP" class="headerlink" title="DBCP"></a><strong>DBCP</strong></h3><p>是Apache上的一个 <a href="http://lib.csdn.net/base/javase" target="_blank" rel="external">Java</a>连接池项目，也是 tomcat使用的连接池组件。单独使用dbcp需要3个包：<code>common-dbcp.jar</code>,<code>common-pool.jar</code>,<code>common-collections.jar</code>由于建立数据库连接是一个非常耗时耗资源的行为，所以通过连接池预先同数据库建立一些连接，放在内存中，应用程序需要建立数据库连接时直接到连接池中申请一个就行，用完后再放回去。dbcp没有自动的去回收空闲连接的功能。 </p>
<h3 id="Proxool"><a href="#Proxool" class="headerlink" title="Proxool"></a><strong>Proxool</strong></h3><p>Proxool是一个Java SQL Driver驱动程序，提供了对你选择的其它类型的驱动程序的连接池封装。可以非常简单的移植到现存的代码中。完全可配置。快速，成熟，健壮。可以透明地为你现存的JDBC驱动程序增加连接池功能。</p>
<h1 id="C3P0连接池使用"><a href="#C3P0连接池使用" class="headerlink" title="C3P0连接池使用"></a>C3P0连接池使用</h1><h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><ol>
<li><p>下载 <a href="http://download.csdn.net/download/eson_15/9525734" target="_blank" rel="external">C3P0连接池jar包</a>和<a href="https://dev.mysql.com/downloads/connector/" target="_blank" rel="external">mysql驱动</a>,导入工程文件。</p>
</li>
<li><p>创建配置文件c3p0-config.xml。（在src根目录下，名字不能改）</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-29/98108670.jpg" alt=""></p>
</li>
</ol>
<h3 id="书写连接池配置"><a href="#书写连接池配置" class="headerlink" title="书写连接池配置"></a>书写连接池配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span>  </div><div class="line">    <span class="comment">&lt;!-- This is default config! --&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">default-config</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql://localhost:3306/contacts?characterEncoding=utf8<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		</div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"acquireIncrement"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>20<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatements"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatementsPerConnection"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </div><div class="line">    <span class="tag">&lt;/<span class="name">default-config</span>&gt;</span>  </div><div class="line">  </div><div class="line">    <span class="comment">&lt;!-- This is my config for mysql--&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">"mysql"</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql://localhost:3306/test<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxIdleTime"</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>100<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatements"</span>&gt;</span>200<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">named-config</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></div></pre></td></tr></table></figure>
<p>配置信息主要是填写数据库驱动、数据库名称、数据库用户名、密码等等，一般修改这些信息，其他的按默认的就可以了。</p>
<h3 id="启动C3P0连接池"><a href="#启动C3P0连接池" class="headerlink" title="启动C3P0连接池"></a>启动C3P0连接池</h3><p>完成了前面的准备工作和信息配置，下面就正式进入连接池的操作了。</p>
<p>建立一个C3P0Demo测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.sql.Connection;</div><div class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</div><div class="line"><span class="keyword">import</span> java.sql.SQLException;  	  </div><div class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;  </div><div class="line">	</div><div class="line">	<span class="comment">/** </span></div><div class="line">	 * 数据库工具类 </div><div class="line">	 * <span class="doctag">@author</span> cloud </div><div class="line">	 * </div><div class="line">	 */  </div><div class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C3P0Util</span> </span>&#123;  </div><div class="line">	    <span class="keyword">static</span> ComboPooledDataSource cpds=<span class="keyword">null</span>;  </div><div class="line">	    <span class="keyword">static</span>&#123;  </div><div class="line">	        cpds = <span class="keyword">new</span> ComboPooledDataSource();<span class="comment">//这是mysql数据库  </span></div><div class="line">	    &#125;  </div><div class="line">	    <span class="comment">/** </span></div><div class="line">	     * 获得数据库连接 </div><div class="line">	     * <span class="doctag">@return</span>   Connection </div><div class="line">	     */  </div><div class="line">	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;  </div><div class="line">	        <span class="keyword">try</span> &#123;  </div><div class="line">	            <span class="keyword">return</span> cpds.getConnection();  </div><div class="line">	        &#125; <span class="keyword">catch</span> (SQLException e) &#123;  </div><div class="line">	            e.printStackTrace(); </div><div class="line">	            System.out.println(<span class="string">"连接失败"</span>);</div><div class="line">	            <span class="keyword">return</span> <span class="keyword">null</span>;  </div><div class="line">	        &#125;  </div><div class="line">	    &#125;  </div><div class="line">	      </div><div class="line">	    <span class="comment">/** </span></div><div class="line">	     * 放回连接对象，close方法并不是关闭，而是更改该连接对象的状态为可用。 </div><div class="line">	     * <span class="doctag">@param</span> conn   </div><div class="line">	     */  </div><div class="line">	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Connection conn)</span></span>&#123;  </div><div class="line">	        <span class="keyword">if</span>(conn!=<span class="keyword">null</span>)&#123;  </div><div class="line">	            <span class="keyword">try</span> &#123;  </div><div class="line">	                conn.close();  </div><div class="line">	            &#125; <span class="keyword">catch</span> (SQLException e) &#123;  </div><div class="line">	                e.printStackTrace();  </div><div class="line">	            &#125;  </div><div class="line">	        &#125;  </div><div class="line">	    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在test数据库中创建一个student表</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-29/30426071.jpg" alt=""></p>
<p>在刚刚创建的测试类C3P0Demo种添加如下main方法，插入1条数据</p>
<p>NO:201701</p>
<p>NAME:TOM</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">   </div><div class="line">   <span class="comment">/** </span></div><div class="line">    * 测试DBUtil类 </div><div class="line">    * <span class="doctag">@param</span> args </div><div class="line">    *</div><div class="line">    */</div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </div><div class="line">   	Connection conn = C3P0Util.getConnection();</div><div class="line">	System.out.println(<span class="string">"连接成功"</span>);</div><div class="line">	<span class="comment">//插入信息的sql语句</span></div><div class="line">	String sql = <span class="string">"insert into student(no,name)values(?,?)"</span>;</div><div class="line">	<span class="keyword">try</span>&#123;</div><div class="line">		<span class="comment">//获取PreparedStatement对象</span></div><div class="line">		PreparedStatement ps = conn.prepareStatement(sql);</div><div class="line">		<span class="comment">//对sql语句对占位符进行动态赋值</span></div><div class="line">		ps.setString(<span class="number">1</span>, <span class="string">"201701"</span>);</div><div class="line">		ps.setString(<span class="number">2</span>, <span class="string">"TOM"</span>);</div><div class="line">		</div><div class="line">		<span class="comment">//执行更新操作</span></div><div class="line">		ps.executeUpdate();</div><div class="line">		ps.close();</div><div class="line">	   &#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">		   e.printStackTrace();</div><div class="line">	   &#125;<span class="keyword">finally</span>&#123;		</div><div class="line">	<span class="comment">//关闭数据库连接</span></div><div class="line">    C3P0Util.close(conn);</div><div class="line">&#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>运行程序，执行结果如下</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-29/58781294.jpg" alt=""></p>
<p>查看数据库，可以看到刚刚插入的数据已经成功插入，证明C3P0数据库配置成功。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-29/16598521.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;​    初学JDBC技术来连接数据库时，每一次连接DBMS都需要很繁琐的执行以下步骤：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//1.加载驱动&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Class.forName(&lt;span class=&quot;string&quot;&gt;&quot;com.mysql.jdbc.Driver&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//2.连接数据库URL&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;String url = &lt;span class=&quot;string&quot;&gt;&quot;jdbc:mysql://localhost:3306/test?&quot;&lt;/span&gt;  +&lt;span class=&quot;string&quot;&gt;&quot;user=root&amp;amp;password=root&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//3.获取数据库连接&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;conn = DriverManager.getConnection(url);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;​    不论是一次小小的查询还是添加一条记录，你都得老老实实的按这三步走（加载驱动，连接数据库URL,获取数据库连接）。然而当系统变得复杂了，数据库的操作更加频繁，系统的性能也会随之下降。&lt;br&gt;
    
    </summary>
    
      <category term="JavaWeb" scheme="http://yoursite.com/categories/JavaWeb/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
      <category term="连接池" scheme="http://yoursite.com/tags/%E8%BF%9E%E6%8E%A5%E6%B1%A0/"/>
    
      <category term="C3P0" scheme="http://yoursite.com/tags/C3P0/"/>
    
  </entry>
  
  <entry>
    <title>MacOS上基于Github的hexo博客</title>
    <link href="http://yoursite.com/2017/05/19/MacOS%E4%B8%8A%E5%9F%BA%E4%BA%8EGithub%E7%9A%84hexo%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2017/05/19/MacOS上基于Github的hexo博客/</id>
    <published>2017-05-19T13:57:51.000Z</published>
    <updated>2017-05-23T02:56:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>​    本教程主要是为了记录此博客的搭建过程，让自己对学习搭建博客的历程有一个更清晰的认识，而不是稀里糊涂把各种官方文档啊博客啊七拼八凑的倒腾出一个博客，自己不明不白的都不知道为什么就搭起来了。</p>
<p>​    很早以前就有搭建博客的想法了，既然想好了以后是要走技术路线，起码要有一个像样的博客。并且我可以在博客里记录最近学的一块知识点，或者新技术等等，并且讲这些东西系统的、规范化的整理起来，巩固自己的同时，也能把这些东西让其他需要的人看到，这是一种很棒的感觉！</p>
<p>​    像这么一个博客，我从hexo是什么都不知道到搭建出这么一个像样的博客配置好主题推送到GitHubPage上花了将近快四个小时，中间遇到了无数的坑，磕磕绊绊的也完成了。所以只要有肯折腾，对自己有信心，没有什么做不出来。</p>
<p>​    那么下面就正式进入教程吧：<br><a id="more"></a></p>
<h1 id="1-准备工具–配置搭建环境"><a href="#1-准备工具–配置搭建环境" class="headerlink" title="1. 准备工具–配置搭建环境"></a>1. 准备工具–配置搭建环境</h1><ul>
<li>操作系统：MacOS </li>
</ul>
<ul>
<li><p>Github账号</p>
</li>
<li><p>包管理工具：Homebrew</p>
</li>
<li><p>版本控制：git</p>
</li>
<li><p>Node.js</p>
</li>
<li><p>hexo</p>
</li>
</ul>
<h2 id="1-1-GitHub账号"><a href="#1-1-GitHub账号" class="headerlink" title="1.1 GitHub账号"></a>1.1 GitHub账号</h2><ol>
<li>百度GitHub进入官网</li>
<li>Sign up for Github</li>
<li>填写账号信息，什么姓名啊邮箱啊</li>
<li>选择免费的用户计划</li>
<li>完成注册</li>
</ol>
<p>参考教程：<a href="http://jingyan.baidu.com/article/455a9950abe0ada167277864.html" target="_blank" rel="external">github注册教程地址</a></p>
<h2 id="1-2-Homebrew包管理工具"><a href="#1-2-Homebrew包管理工具" class="headerlink" title="1.2 Homebrew包管理工具"></a>1.2 Homebrew包管理工具</h2><ul>
<li><p>作用：在Mac中方便的安装软件或者卸载软件，例如git、node.js、等等。</p>
</li>
<li><p>安装 Homebrew </p>
<p>在命令行输入：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/usr/</span>bin<span class="regexp">/ruby -e "$(curl -fsSL https:/</span><span class="regexp">/raw.githubusercontent.com/</span>Homebrew<span class="regexp">/install/m</span>aster<span class="regexp">/install)"</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="1-3-版本控制工具：git"><a href="#1-3-版本控制工具：git" class="headerlink" title="1.3 版本控制工具：git"></a>1.3 版本控制工具：git</h2><p>两种安装Git的方法:</p>
<ol>
<li><p>在安装homebrew的基础上，用命令行</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">brew </span><span class="keyword">install </span>git</div></pre></td></tr></table></figure>
</li>
<li><p>从AppStore安装Xcode，Xcode集成了Git，不过默认没有安装，你需要运行Xcode，选择菜单“Xcode”-&gt;“Preferences”，在弹出窗口中找到“Downloads”，选择“Command Line Tools”，点“Install”就可以完成安装了。</p>
</li>
</ol>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/75785087-file_1495215463124_8bd1.jpg" alt=""></p>
<h2 id="1-4-安装Node-js"><a href="#1-4-安装Node-js" class="headerlink" title="1.4 安装Node.js"></a>1.4 安装Node.js</h2><p>Node.js可以生成静态页面，也有两种安装方式：</p>
<ol>
<li><p>在安装好包管理工具的基础上，用brew来安装，在命令行输入</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install <span class="keyword">node</span><span class="title"></span></div></pre></td></tr></table></figure>
<p>某些地区某些时间可能会被墙，如果网络状况不好那可能是被墙污染了，采用第二种方式即可</p>
</li>
<li><p>在<a href="https://nodejs.org/en/" target="_blank" rel="external">node.js官网</a>下载安装包安装</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/98603588-file_1495216272785_2dc5.png" alt="Markdown"></p>
</li>
</ol>
<h2 id="1-5-安装hexo"><a href="#1-5-安装hexo" class="headerlink" title="1.5 安装hexo"></a>1.5 安装hexo</h2><p>当Node.js和Git都安装好后就可以正式安装Hexo了，终端执行如下命令：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm <span class="keyword">install</span> -g hexo</div></pre></td></tr></table></figure>
<p>接着会提示输入管理员密码，输入完毕后等待安装完成</p>
<h1 id="2-初始化本地博客"><a href="#2-初始化本地博客" class="headerlink" title="2. 初始化本地博客"></a>2. 初始化本地博客</h1><p>​    以上工作完成以后，可以说是万事俱备了。该有的都有了，那么博客就可以正式的开始搭建了。</p>
<p>​    第一步：找一个存放你整个博客站点文件的目录。以我的为例，我在/Users/yunhuang 下创建了一个名为myblog的文件，用于存放我的博客站点。</p>
<p>​    第二步：创建成功后</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> <span class="string">/Users/yunhuang/myblog</span></div></pre></td></tr></table></figure>
<p>​    cd来到你创建的目录下，执行<code>hexo init</code>命令</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo init blog</span></div></pre></td></tr></table></figure>
<p>等待安装完成后的提示：</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/93680168-file_1495217189423_51b6.png" alt="Markdown"></p>
<p>再一次cd到初始化创建产生的blog文件</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd <span class="regexp">/Users/yu</span>nhuang<span class="regexp">/myblog/</span>blog</div></pre></td></tr></table></figure>
<p>然后执行如下命令，安装npm</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span></div></pre></td></tr></table></figure>
<p>进入blog文件内，看一看hexo初始化后的文件目录是不是包含以下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">_config<span class="selector-class">.yml</span>    </div><div class="line">db<span class="selector-class">.json</span> </div><div class="line">node_modules </div><div class="line">package<span class="selector-class">.json</span></div><div class="line">scaffolds</div><div class="line">source</div><div class="line">themes</div></pre></td></tr></table></figure>
<p>到此，博客初始化就算完成了，已经迫不及待的想打开看看自己搭建博客的样子，测试一下吧，在命令行打开服务测试一下效果</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">server</span></div></pre></td></tr></table></figure>
<p>打开浏览器，输入站点的默认端口<a href="http://0.0.0.0:4000/" target="_blank" rel="external">http://localhost:4000</a></p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/73145612-file_1495217577451_572.png" alt="Markdown"></p>
<p>到此，一个本地的博客初始化就算完成啦！</p>
<h1 id="3-推送到GitHub"><a href="#3-推送到GitHub" class="headerlink" title="3. 推送到GitHub"></a>3. 推送到GitHub</h1><p>​    本地的博客搭建好啦，但只能自己玩单机给自己嗨。这时候就需要用GitHub page提供的免费空间来存储我们的博客了。</p>
<h2 id="3-1-创建GitHub仓库"><a href="#3-1-创建GitHub仓库" class="headerlink" title="3.1 创建GitHub仓库"></a>3.1 创建GitHub仓库</h2><p>​    GitHub提供了免费的空间给我们存放站点，那自然是要在GitHub上创建一个仓库，仓库等名字不能乱取，为了让GitHub知道这不是一个普通的仓库，而是作为GitHub page的站点仓库，就必须采用固定的命名方式<code>用户名.github.io</code>。如<code>Cloud-Wong.github.io</code>。</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/72260524-file_1495251557262_4586.png" alt="Markdown"></p>
<p>建好以后主页大致就是这么一个样子。<strong>注意</strong>，左上角的<strong>命名规范</strong>！要严格按照<code>用户名.github.io</code>这么搞才行。</p>
<h2 id="3-2-推送站点到GitHub上"><a href="#3-2-推送站点到GitHub上" class="headerlink" title="3.2 推送站点到GitHub上"></a>3.2 推送站点到GitHub上</h2><p>仓库建好了，回到我们的命令行来。cd到我们初始化好的blog文件上。执行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">vim</span> _<span class="selector-tag">config</span><span class="selector-class">.yml</span></div></pre></td></tr></table></figure>
<p>滑到最后可以看到</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">deploy</span>:</div><div class="line">    <span class="attribute">type</span>: git</div><div class="line">    <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//</span></div><div class="line">    <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure>
<p>type如果不是git就改成git，repository这个参数代表了需要推送到的地址。回到刚刚新建好的GitHub仓库，复制</p>
<p><img src="http://oq6qnksdu.bkt.clouddn.com/17-5-20/32992010-file_1495252138238_476.png" alt="Markdown"></p>
<p>然后粘贴到repository后面</p>
<p>修改后：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">deploy</span>:</div><div class="line">    <span class="attribute">type</span>: git</div><div class="line">    <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//github.com/Cloud-Wong/Cloud-Wong.github.io.git</span></div><div class="line">    <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure>
<hr>
<p>当然你如果不想在控制台用vim编译器修改，直接打开blog文件夹，找到<code>_config.yml</code>配置文件，拉到最后修改保存也可以。</p>
<p>⚠️注意：配置信息内到所有参数的<strong>冒号后面都要有一个空格！！！</strong>否则hexo命令会报错。</p>
<p>在blog文件夹下执行命令生成静态文件：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo g</span></div></pre></td></tr></table></figure>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">此时若出现如下报错：</div><div class="line"><span class="keyword">ERROR </span>Local hexo not found in ~/blog</div><div class="line"><span class="keyword">ERROR </span>Try runing: 'npm install hexo --save'</div><div class="line">则执行命令：</div><div class="line">npm install hexo --save</div><div class="line">若无报错，自行忽略此步骤。</div></pre></td></tr></table></figure>
<p>静态页面生成以后，就可以把整个站点推送到GitHub上了，执行</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo d</span></div></pre></td></tr></table></figure>
<p>如果说无法连接到git，执行<code>npm install hexo-deployer-git --save</code>，然后再次执行<code>hexo generate</code>和<code>hexo deploy</code>命令。</p>
<p>成功连接后，就可以打开浏览器输入<code>cloud-wong.github.io</code>验证。你将会看到和之前在本地初始化一样的界面。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p>参考博客：<a href="http://gonghonglou.com/2016/02/03/firstblog/" target="_blank" rel="external">与佳期的个人博客</a></p>
<p>官方文档：</p>
<ul>
<li><a href="https://hexo.io/zh-cn/" target="_blank" rel="external">hexo</a></li>
<li><a href="https://pages.github.com/" target="_blank" rel="external">GitHub page</a></li>
<li><a href="https://brew.sh/" target="_blank" rel="external">Homebrew</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​    本教程主要是为了记录此博客的搭建过程，让自己对学习搭建博客的历程有一个更清晰的认识，而不是稀里糊涂把各种官方文档啊博客啊七拼八凑的倒腾出一个博客，自己不明不白的都不知道为什么就搭起来了。&lt;/p&gt;
&lt;p&gt;​    很早以前就有搭建博客的想法了，既然想好了以后是要走技术路线，起码要有一个像样的博客。并且我可以在博客里记录最近学的一块知识点，或者新技术等等，并且讲这些东西系统的、规范化的整理起来，巩固自己的同时，也能把这些东西让其他需要的人看到，这是一种很棒的感觉！&lt;/p&gt;
&lt;p&gt;​    像这么一个博客，我从hexo是什么都不知道到搭建出这么一个像样的博客配置好主题推送到GitHubPage上花了将近快四个小时，中间遇到了无数的坑，磕磕绊绊的也完成了。所以只要有肯折腾，对自己有信心，没有什么做不出来。&lt;/p&gt;
&lt;p&gt;​    那么下面就正式进入教程吧：&lt;br&gt;
    
    </summary>
    
      <category term="hexo博客" scheme="http://yoursite.com/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="搭建博客" scheme="http://yoursite.com/tags/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="Mac" scheme="http://yoursite.com/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>java静态使用</title>
    <link href="http://yoursite.com/2017/05/18/java%E9%9D%99%E6%80%81%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2017/05/18/java静态使用/</id>
    <published>2017-05-18T12:32:25.000Z</published>
    <updated>2017-05-23T02:57:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="静态"><a href="#静态" class="headerlink" title="静态"></a>静态</h2><h3 id="什么时候用？"><a href="#什么时候用？" class="headerlink" title="什么时候用？"></a>什么时候用？</h3><ol>
<li>静态变量：<br>当分析对象中所具备的成员变量的值都是相同的，这时这个成员就可以修饰成静态。<br>只要数据在对象中都是不同的，就是对象的特有数据，这是非静态的；如果在对象中的数据是相同的，对象不需要修饰，不需要存储在对象中，设为静态即可。</li>
<li><p>静态函数：<br>函数是否修饰为静态，就参考该方法是否访问到了对象中的特有数据，如果有就用静态。</p>
<h3 id="构造函数的执行顺序"><a href="#构造函数的执行顺序" class="headerlink" title="构造函数的执行顺序"></a>构造函数的执行顺序</h3><a id="more"></a>
</li>
<li><p>JAVA中执行顺序</p>
</li>
</ol>
<p><strong>父类静态块-》自身静态块-》父类块-》父类构造器-》自身块-》自身构造器</strong></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* </span></div><div class="line"> DOG父类 </div><div class="line"> */  </div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dog</span> &#123;  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"Dog"</span>);  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">static</span>&#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"super static block"</span>);  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    &#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"super block"</span>);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** </span></div><div class="line"> * 子类藏獒 </div><div class="line"> */  </div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mastiff</span> <span class="title">extends</span> <span class="title">Dog</span> &#123;  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Mastiff</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"Mastiff"</span>);  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    &#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"block"</span>);  </div><div class="line">          </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">static</span> &#123;  </div><div class="line">        System.<span class="keyword">out</span>.println(<span class="string">"static block"</span>);  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">main</span>(<span class="params">String[] args</span>)</span>&#123;  </div><div class="line">        Mastiff mastiff=<span class="keyword">new</span> Mastiff();        </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行结果：</p>
<ul>
<li>super static block</li>
<li>static block</li>
<li>super block</li>
<li>Dog</li>
<li>block</li>
<li>Mastiff</li>
</ul>
<p> 也就是说此时的运行顺序为：</p>
<ul>
<li>父类静态块</li>
<li>自身静态块</li>
<li>父类块</li>
<li>父类构造器</li>
<li>自身块</li>
<li>自身构造器 </li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;静态&quot;&gt;&lt;a href=&quot;#静态&quot; class=&quot;headerlink&quot; title=&quot;静态&quot;&gt;&lt;/a&gt;静态&lt;/h2&gt;&lt;h3 id=&quot;什么时候用？&quot;&gt;&lt;a href=&quot;#什么时候用？&quot; class=&quot;headerlink&quot; title=&quot;什么时候用？&quot;&gt;&lt;/a&gt;什么时候用？&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;静态变量：&lt;br&gt;当分析对象中所具备的成员变量的值都是相同的，这时这个成员就可以修饰成静态。&lt;br&gt;只要数据在对象中都是不同的，就是对象的特有数据，这是非静态的；如果在对象中的数据是相同的，对象不需要修饰，不需要存储在对象中，设为静态即可。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;静态函数：&lt;br&gt;函数是否修饰为静态，就参考该方法是否访问到了对象中的特有数据，如果有就用静态。&lt;/p&gt;
&lt;h3 id=&quot;构造函数的执行顺序&quot;&gt;&lt;a href=&quot;#构造函数的执行顺序&quot; class=&quot;headerlink&quot; title=&quot;构造函数的执行顺序&quot;&gt;&lt;/a&gt;构造函数的执行顺序&lt;/h3&gt;
    
    </summary>
    
      <category term="javase" scheme="http://yoursite.com/categories/javase/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/05/18/hello-world/"/>
    <id>http://yoursite.com/2017/05/18/hello-world/</id>
    <published>2017-05-17T17:22:26.000Z</published>
    <updated>2017-05-17T20:15:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
